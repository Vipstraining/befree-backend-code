[2025-10-05T19:36:44.584Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:169:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:19:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:152:5)\n    at node:internal/main/run_main_module:33:47","environment":"development"}
[2025-10-05T19:36:48.000Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:169:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:19:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:152:5)\n    at node:internal/main/run_main_module:33:47","environment":"development"}
[2025-10-05T19:37:18.604Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:169:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:19:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)","environment":"development"}
[2025-10-05T19:37:28.295Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:169:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:19:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:152:5)\n    at node:internal/main/run_main_module:33:47","environment":"development"}
[2025-10-05T19:37:44.988Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:169:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:19:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)","environment":"development"}
[2025-10-05T19:37:53.550Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:178:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:19:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:152:5)\n    at node:internal/main/run_main_module:33:47","environment":"development"}
[2025-10-05T19:41:00.230Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:178:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:19:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)","environment":"development"}
[2025-10-05T19:41:04.915Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:178:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:21:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:152:5)\n    at node:internal/main/run_main_module:33:47","environment":"development"}
[2025-10-05T19:41:08.312Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:178:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:21:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)","environment":"development"}
[2025-10-05T19:41:11.915Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:183:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:21:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:152:5)\n    at node:internal/main/run_main_module:33:47","environment":"development"}
[2025-10-05T19:41:21.870Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:183:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:21:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.require (node:internal/modules/cjs/loader:1491:12)\n    at require (node:internal/modules/helpers:135:16)","environment":"development"}
[2025-10-05T19:41:25.842Z] [ERROR] Missing required environment variables: CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:184:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:21:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:152:5)\n    at node:internal/main/run_main_module:33:47","environment":"development"}
[2025-10-05T19:41:38.385Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T19:41:38.590Z] [INFO] Connecting to database...
[2025-10-05T19:41:38.590Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T19:41:38.598Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://127.0.0.1:3000","http://127.0.0.1:3001","http://localhost:8080","http://127.0.0.1:8080","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T19:41:39.339Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"749ms"}
[2025-10-05T19:41:50.246Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T19:41:50.417Z] [INFO] Connecting to database...
[2025-10-05T19:41:50.417Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T19:41:50.424Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:201:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T19:42:01.374Z] [INFO] SIGTERM received. Shutting down gracefully...
[2025-10-05T19:42:01.375Z] [INFO] Process terminated
[2025-10-05T19:50:08.276Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T19:50:08.475Z] [INFO] Connecting to database...
[2025-10-05T19:50:08.475Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T19:50:08.482Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://127.0.0.1:3000","http://127.0.0.1:3001","http://localhost:8080","http://127.0.0.1:8080","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T19:50:09.359Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"884ms"}
[2025-10-05T19:50:16.301Z] [DEBUG] Incoming request {"method":"GET","url":"/health","headers":{"host":"localhost:3000","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-05T19:50:16.302Z] [INFO] Health check requested {"ip":"::1"}
[2025-10-05T19:50:16.303Z] [INFO] GET /health - 200 {"method":"GET","url":"/health","statusCode":200,"responseTime":"2ms","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-05T19:50:24.662Z] [DEBUG] Incoming request {"method":"GET","url":"/api/test","headers":{"host":"localhost:3000","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-05T19:50:24.662Z] [INFO] Test endpoint accessed {"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-05T19:50:24.663Z] [INFO] GET /api/test - 200 {"method":"GET","url":"/api/test","statusCode":200,"responseTime":"1ms","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-05T19:51:34.591Z] [DEBUG] Incoming request {"method":"GET","url":"/","headers":{"host":"localhost:3000","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-05T19:51:34.592Z] [INFO] GET / - 200 {"method":"GET","url":"/","statusCode":200,"responseTime":"1ms","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-05T19:51:44.869Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T19:51:45.050Z] [INFO] Connecting to database...
[2025-10-05T19:51:45.050Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T19:51:45.056Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://127.0.0.1:3000","http://127.0.0.1:3001","http://localhost:8080","http://127.0.0.1:8080","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T19:51:45.895Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"845ms"}
[2025-10-05T19:56:20.869Z] [INFO] SIGTERM received. Shutting down gracefully...
[2025-10-05T19:56:20.869Z] [INFO] Process terminated
[2025-10-05T19:56:35.657Z] [ERROR] Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY {"stack":"Error: Missing required environment variables: JWT_SECRET, CLAUDE_API_KEY\n    at validateConfig (/Users/userongrid/Befree/befree-backend-code/config/environments.js:185:11)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:21:3)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)\n    at wrapModuleLoad (node:internal/modules/cjs/loader:235:24)\n    at Module.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:152:5)\n    at node:internal/main/run_main_module:33:47","environment":"production"}
[2025-10-05T19:56:56.422Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T19:56:56.595Z] [INFO] Connecting to database...
[2025-10-05T19:56:56.595Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T19:56:56.601Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://127.0.0.1:3000","http://127.0.0.1:3001","http://localhost:8080","http://127.0.0.1:8080","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T19:56:57.311Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"716ms"}
[2025-10-05T20:02:30.538Z] [INFO] Database reconnected
[2025-10-05T20:02:30.547Z] [INFO] Database reconnected
[2025-10-05T20:02:40.840Z] [WARN] Database disconnected
[2025-10-05T20:02:40.999Z] [INFO] Database reconnected
[2025-10-05T20:04:46.994Z] [DEBUG] Incoming request {"method":"GET","url":"/","headers":{"host":"localhost:3000","connection":"keep-alive","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"macOS\"","upgrade-insecure-requests":"1","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","sec-fetch-site":"none","sec-fetch-mode":"navigate","sec-fetch-user":"?1","sec-fetch-dest":"document","accept-encoding":"gzip, deflate, br, zstd","accept-language":"en-GB,en-US;q=0.9,en;q=0.8","if-none-match":"W/\"a3-ZhDuWOmjKXG6Xol/PXPTVlf+Oyo\""},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
[2025-10-05T20:04:46.997Z] [INFO] GET / - 200 {"method":"GET","url":"/","statusCode":200,"responseTime":"3ms","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T20:24:50.621Z] [INFO] Database reconnected
[2025-10-05T20:24:50.707Z] [INFO] Database reconnected
[2025-10-05T20:25:01.003Z] [WARN] Database disconnected
[2025-10-05T20:25:01.153Z] [INFO] Database reconnected
[2025-10-05T20:34:29.999Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:34:30.189Z] [INFO] Connecting to database...
[2025-10-05T20:34:30.189Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:34:30.195Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://localhost:8080","http://127.0.0.1:8080","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:34:30.940Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"751ms"}
[2025-10-05T20:34:33.282Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:34:33.376Z] [INFO] Connecting to database...
[2025-10-05T20:34:33.377Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:34:33.383Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://localhost:8080","http://127.0.0.1:8080","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:34:33.849Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"472ms"}
[2025-10-05T20:39:01.183Z] [WARN] Database disconnected
[2025-10-05T20:39:01.208Z] [INFO] Database reconnected
[2025-10-05T20:39:45.451Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","headers":{"host":"localhost:3000","accept":"*/*","origin":"http://localhost:8000","content-type":"application/json","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","content-length":"82"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"}
[2025-10-05T20:39:45.741Z] [INFO] POST /register - 400 {"method":"POST","url":"/register","statusCode":400,"responseTime":"291ms","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T20:39:51.078Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:39:51.263Z] [INFO] Connecting to database...
[2025-10-05T20:39:51.263Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:39:51.269Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:39:51.778Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"515ms"}
[2025-10-05T20:39:56.703Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","headers":{"host":"localhost:3000","accept":"*/*","origin":"http://localhost:8000","content-type":"application/json","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","content-length":"81"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"}
[2025-10-05T20:39:57.014Z] [INFO] POST /register - 201 {"method":"POST","url":"/register","statusCode":201,"responseTime":"311ms","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T20:40:02.362Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:40:02.532Z] [INFO] Connecting to database...
[2025-10-05T20:40:02.532Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:40:02.538Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:40:02.984Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"452ms"}
[2025-10-05T20:46:17.304Z] [INFO] SIGINT received. Shutting down gracefully...
[2025-10-05T20:46:17.305Z] [INFO] Process terminated
[2025-10-05T20:46:19.018Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:46:19.189Z] [INFO] Connecting to database...
[2025-10-05T20:46:19.189Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:46:19.195Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:46:19.958Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"769ms"}
[2025-10-05T20:48:00.568Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","headers":{"host":"localhost:3000","connection":"keep-alive","content-length":"93","sec-ch-ua-platform":"\"macOS\"","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","sec-ch-ua":"\"Chromium\";v=\"140\", \"Not=A?Brand\";v=\"24\", \"Google Chrome\";v=\"140\"","content-type":"application/json","sec-ch-ua-mobile":"?0","accept":"*/*","origin":"http://localhost:8000","sec-fetch-site":"same-site","sec-fetch-mode":"cors","sec-fetch-dest":"empty","referer":"http://localhost:8000/","accept-encoding":"gzip, deflate, br, zstd","accept-language":"en-GB,en-US;q=0.9,en;q=0.8"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
[2025-10-05T20:48:00.613Z] [INFO] POST /register - 400 {"method":"POST","url":"/register","statusCode":400,"responseTime":"46ms","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T20:49:29.865Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:49:30.055Z] [INFO] Connecting to database...
[2025-10-05T20:49:30.055Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:49:30.061Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:49:30.725Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"670ms"}
[2025-10-05T20:49:38.968Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:49:39.149Z] [INFO] Connecting to database...
[2025-10-05T20:49:39.149Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:49:39.155Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:49:39.618Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"469ms"}
[2025-10-05T20:49:45.772Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:49:45.876Z] [INFO] Connecting to database...
[2025-10-05T20:49:45.876Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:49:45.882Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:49:46.313Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"437ms"}
[2025-10-05T20:49:57.207Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:49:57.309Z] [INFO] Connecting to database...
[2025-10-05T20:49:57.309Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:49:57.315Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T20:49:57.317Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:49:57.810Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"501ms"}
[2025-10-05T20:50:02.459Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:50:02.556Z] [INFO] Connecting to database...
[2025-10-05T20:50:02.556Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:50:02.561Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T20:50:02.563Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:50:03.034Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"478ms"}
[2025-10-05T20:50:07.070Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:50:07.171Z] [INFO] Connecting to database...
[2025-10-05T20:50:07.171Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:50:07.177Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T20:50:07.178Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:50:07.622Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"450ms"}
[2025-10-05T20:50:12.343Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:50:12.487Z] [INFO] Connecting to database...
[2025-10-05T20:50:12.488Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:50:12.494Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T20:50:12.496Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:50:13.048Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"560ms"}
[2025-10-05T20:50:31.269Z] [INFO] SIGTERM received. Shutting down gracefully...
[2025-10-05T20:50:31.269Z] [INFO] Process terminated
[2025-10-05T20:50:44.969Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:50:45.127Z] [INFO] Connecting to database...
[2025-10-05T20:50:45.127Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:50:45.132Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T20:50:45.133Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:50:45.714Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"587ms"}
[2025-10-05T20:51:16.101Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T20:51:16.101Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T20:51:16.108Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"username":"DebugUser123","email":"debug123@example.com","password":"DebugPass123"}}
[2025-10-05T20:51:16.112Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"$or":[{"email":"debug123@example.com"},{"username":"DebugUser123"}]},"options":{}}
[2025-10-05T20:51:16.162Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"50ms"}
[2025-10-05T20:51:16.430Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":201,"responseTime":"322ms","responseSize":363,"responseBody":"{\"success\":true,\"message\":\"User registered successfully\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZTJkYTQ0ODY3MzVkZjViN2I3MTM2NSIsImlhdCI6MTc1OTY5NzQ3NiwiZXhwIjoxNzYwMzAyMjc2fQ.wftNLVJf6D5l9rZCh4yufiKUXpFgJndFNAq0Gn8wQSo\",\"user\":{\"id\":\"68e2da4486735df5b7b71365\",\"username\":\"DebugUser123\",\"email\":\"debug123@example.com\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T20:51:30.287Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T20:51:30.287Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T20:51:30.288Z] [DEBUG] Incoming request {"method":"GET","url":"/api/test","query":{},"params":{},"headers":{"authorization":"none","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"}
[2025-10-05T20:51:30.288Z] [INFO] Test endpoint accessed {"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36"}
[2025-10-05T20:51:30.288Z] [INFO] Request completed {"method":"GET","url":"/api/test","statusCode":200,"responseTime":"0ms","responseSize":776,"responseBody":"{\"success\":true,\"message\":\"API is working correctly\",\"timestamp\":\"2025-10-05T20:51:30.288Z\",\"environment\":\"development\",\"cors\":{\"origin\":\"http://localhost:8000\",\"allowed\":[\"http://localhost:3000\",\"http://localhost:3001\",\"http://localhost:8000\",\"http://localhost:8080\",\"http://localhost:5000\",\"http://localhost:4000\",\"http://127.0.0.1:3000\",\"http://127.0.0.1:3001\",\"http://127.0.0.1:8000\",\"http://127.0.0.1:8080\",\"http://127.0.0.1:5000\",\"http://127.0.0.1:4000\",\"file://\"]},\"request\":{\"method\":\"GET\",\"url\":\"/api/test\",\"headers\":{\"host\":\"localhost:3000\",\"accept\":\"*/*\",\"origin\":\"http://localhost:8000\",\"user-agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36\"},\"ip\":\"::1\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T20:51:50.535Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:51:50.707Z] [INFO] Connecting to database...
[2025-10-05T20:51:50.707Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:51:50.712Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T20:51:50.713Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:51:51.209Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"502ms"}
[2025-10-05T20:52:55.887Z] [INFO] SIGTERM received. Shutting down gracefully...
[2025-10-05T20:52:55.887Z] [INFO] Process terminated
[2025-10-05T20:54:13.194Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:54:13.319Z] [INFO] Connecting to database...
[2025-10-05T20:54:13.320Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:54:13.324Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T20:54:13.326Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:54:14.029Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"709ms"}
[2025-10-05T20:57:09.002Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T20:57:09.003Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T20:57:09.006Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T20:57:09.006Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T20:57:09.015Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"username":"Vipan_kumar","email":"vipankverma12345678909876@gmail.com","password":"Vips$cool03"}}
[2025-10-05T20:57:09.022Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"$or":[{"email":"vipankverma12345678909876@gmail.com"},{"username":"Vipan_kumar"}]},"options":{}}
[2025-10-05T20:57:09.061Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"39ms"}
[2025-10-05T20:57:09.062Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":400,"responseTime":"47ms","responseSize":85,"responseBody":"{\"success\":false,\"message\":\"User already exists with this email or username\"}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T20:58:33.468Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T20:58:33.654Z] [INFO] Connecting to database...
[2025-10-05T20:58:33.655Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T20:58:33.660Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T20:58:33.661Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T20:58:34.333Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"678ms"}
[2025-10-05T21:00:52.153Z] [INFO] Starting database cleanup {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:00:52.908Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"754ms"}
[2025-10-05T21:00:52.945Z] [INFO] Found collections {"count":3,"collections":["searchhistories","users","userprofiles"]}
[2025-10-05T21:00:52.981Z] [INFO] Collection cleared {"collection":"searchhistories","deletedCount":0}
[2025-10-05T21:00:53.014Z] [INFO] Collection cleared {"collection":"users","deletedCount":6}
[2025-10-05T21:00:53.057Z] [INFO] Collection cleared {"collection":"userprofiles","deletedCount":3}
[2025-10-05T21:00:53.057Z] [INFO] Database cleanup completed successfully {"collectionsProcessed":3,"environment":"development"}
[2025-10-05T21:00:53.060Z] [INFO] Database connection closed
[2025-10-05T21:00:55.826Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:00:55.949Z] [INFO] Connecting to database...
[2025-10-05T21:00:55.949Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:00:55.955Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:00:55.956Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:00:56.400Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"451ms"}
[2025-10-05T21:02:55.674Z] [INFO] SIGINT received. Shutting down gracefully...
[2025-10-05T21:02:55.675Z] [INFO] Process terminated
[2025-10-05T21:02:57.435Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:02:57.573Z] [INFO] Connecting to database...
[2025-10-05T21:02:57.574Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:02:57.578Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:02:57.580Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:02:58.323Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"749ms"}
[2025-10-05T21:03:55.473Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:03:55.473Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:03:55.477Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:03:55.478Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:03:55.491Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"username":"Vipan_kumar","email":"vipankverma12345678909876@gmail.com","password":"Vips$cool03"}}
[2025-10-05T21:03:55.498Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"$or":[{"email":"vipankverma12345678909876@gmail.com"},{"username":"Vipan_kumar"}]},"options":{}}
[2025-10-05T21:03:55.546Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"48ms"}
[2025-10-05T21:03:55.826Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":201,"responseTime":"336ms","responseSize":377,"responseBody":"{\"success\":true,\"message\":\"User registered successfully\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZTJkZDNiY2RhYmNmNTc1ZTI2MDU5MSIsImlhdCI6MTc1OTY5ODIzNSwiZXhwIjoxNzYwMzAzMDM1fQ.k7a4nNn-7kjLcMAmuZQ27e1npLlGtFkBAO_pVS0YTsU\",\"user\":{\"id\":\"68e2dd3bcdabcf575e260591\",\"username\":\"Vipan_kumar\",\"email\":\"vipankverma12345678909876@gmail.com\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T21:04:06.531Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:04:06.531Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:04:06.533Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:04:06.533Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:04:06.534Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"email":"vipankverma12345678909876@gmail.com","password":"Vips$cool03","rememberMe":true}}
[2025-10-05T21:04:06.536Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipankverma12345678909876@gmail.com"},"options":{}}
[2025-10-05T21:04:06.584Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"48ms"}
[2025-10-05T21:04:06.857Z] [INFO] Request completed {"method":"POST","url":"/login","statusCode":200,"responseTime":"323ms","responseSize":408,"responseBody":"{\"success\":true,\"message\":\"Login successful\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZTJkZDNiY2RhYmNmNTc1ZTI2MDU5MSIsImlhdCI6MTc1OTY5ODI0NiwiZXhwIjoxNzYwMzAzMDQ2fQ.vY_iLZV9tjOQBjB6Bl-tOermfLoWRaBgdX8OS_PkJxQ\",\"user\":{\"id\":\"68e2dd3bcdabcf575e260591\",\"username\":\"Vipan_kumar\",\"email\":\"vipankverma12345678909876@gmail.com\",\"lastLogin\":\"2025-10-05T21:04:06.805Z\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T21:04:18.435Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:04:18.435Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:04:18.437Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:04:18.437Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:04:18.438Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-05T21:04:18.440Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"2ms","responseSize":520,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":75,\"analysis\":\"This is a mock analysis. Claude AI integration is required for real analysis.\",\"recommendations\":[\"Consider portion size\",\"Check for allergens\",\"Balance with other nutrients\"],\"warnings\":[],\"benefits\":[\"Provides essential nutrients\",\"Good source of energy\"]},\"timestamp\":\"2025-10-05T21:04:18.439Z\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T21:05:45.841Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:05:45.842Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:05:45.844Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:05:45.844Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:05:45.845Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-05T21:05:45.846Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"1ms","responseSize":520,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":75,\"analysis\":\"This is a mock analysis. Claude AI integration is required for real analysis.\",\"recommendations\":[\"Consider portion size\",\"Check for allergens\",\"Balance with other nutrients\"],\"warnings\":[],\"benefits\":[\"Provides essential nutrients\",\"Good source of energy\"]},\"timestamp\":\"2025-10-05T21:05:45.846Z\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T21:08:05.408Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:08:05.601Z] [INFO] Connecting to database...
[2025-10-05T21:08:05.601Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:08:05.606Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:08:05.608Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:08:23.171Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:08:23.171Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:08:23.172Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-05T21:08:23.173Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"1ms","responseSize":520,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":75,\"analysis\":\"This is a mock analysis. Claude AI integration is required for real analysis.\",\"recommendations\":[\"Consider portion size\",\"Check for allergens\",\"Balance with other nutrients\"],\"warnings\":[],\"benefits\":[\"Provides essential nutrients\",\"Good source of energy\"]},\"timestamp\":\"2025-10-05T21:08:23.173Z\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T21:08:57.369Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:08:57.398Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:08:57.561Z] [INFO] Connecting to database...
[2025-10-05T21:08:57.561Z] [INFO] Connecting to database...
[2025-10-05T21:08:57.562Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:08:57.562Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:08:57.567Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:08:57.567Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:08:57.568Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:08:57.568Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:08:58.273Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"711ms"}
[2025-10-05T21:08:59.574Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:08:59.630Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:08:59.704Z] [INFO] Connecting to database...
[2025-10-05T21:08:59.704Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:08:59.711Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:08:59.712Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:08:59.746Z] [INFO] Connecting to database...
[2025-10-05T21:08:59.747Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:08:59.752Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:08:59.753Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:09:00.183Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"479ms"}
[2025-10-05T21:09:06.011Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:09:06.087Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:09:06.163Z] [INFO] Connecting to database...
[2025-10-05T21:09:06.163Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:09:06.169Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:09:06.170Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:09:06.203Z] [INFO] Connecting to database...
[2025-10-05T21:09:06.203Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:09:06.209Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:09:06.211Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:09:06.606Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"443ms"}
[2025-10-05T21:09:09.047Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:09:09.078Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:09:09.167Z] [INFO] Connecting to database...
[2025-10-05T21:09:09.167Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:09:09.173Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:09:09.175Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:09:09.196Z] [INFO] Connecting to database...
[2025-10-05T21:09:09.196Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:09:09.202Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:09:09.203Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:09:09.601Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"434ms"}
[2025-10-05T21:09:54.901Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:09:54.901Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:09:54.906Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-05T21:09:54.908Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-05T21:09:54.908Z] [INFO] Starting Claude AI analysis {"query":"coke","type":"product_name","hasUserProfile":false}
[2025-10-05T21:09:55.290Z] [ERROR] undefined {"error":"Request failed with status code 404","query":"coke","type":"product_name"}
[2025-10-05T21:09:55.290Z] [WARN] Using fallback analysis {"query":"coke","type":"product_name"}
[2025-10-05T21:09:55.300Z] [ERROR] undefined {"error":"SearchHistory validation failed: userId: Path `userId` is required."}
[2025-10-05T21:09:55.301Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"395ms","responseSize":775,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"Analysis for \\\"coke\\\" (product_name): This is a fallback analysis. Claude AI service is currently unavailable.\",\"recommendations\":[\"Consider portion size\",\"Check for allergens\",\"Balance with other nutrients\"],\"warnings\":[],\"benefits\":[\"Provides essential nutrients\",\"Good source of energy\"],\"nutritionalFacts\":{\"calories\":\"Varies by serving size\",\"macros\":\"Check product label\",\"keyNutrients\":[\"Essential vitamins and minerals\"]},\"isFallback\":true},\"timestamp\":\"2025-10-05T21:09:55.300Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T21:10:24.556Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:10:24.583Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:10:24.782Z] [INFO] Connecting to database...
[2025-10-05T21:10:24.782Z] [INFO] Connecting to database...
[2025-10-05T21:10:24.782Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:10:24.782Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:10:24.788Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:10:24.788Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:10:24.789Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:10:24.790Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:10:25.719Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"937ms"}
[2025-10-05T21:10:35.472Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:10:35.533Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:10:35.601Z] [INFO] Connecting to database...
[2025-10-05T21:10:35.602Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:10:35.608Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:10:35.610Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:10:35.657Z] [INFO] Connecting to database...
[2025-10-05T21:10:35.658Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:10:35.663Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:10:35.664Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:10:36.070Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"468ms"}
[2025-10-05T21:10:44.565Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:10:44.565Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:10:44.570Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"apple","searchType":"product_name"}}
[2025-10-05T21:10:44.572Z] [INFO] Search request received {"query":"apple","type":"product_name","userId":"anonymous"}
[2025-10-05T21:10:44.572Z] [INFO] Starting Claude AI analysis {"query":"apple","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://api.anthropic.com","model":"claude-3-sonnet-20240229"}
[2025-10-05T21:10:44.934Z] [ERROR] undefined {"error":"Request failed with status code 404","query":"apple","type":"product_name"}
[2025-10-05T21:10:44.934Z] [WARN] Using fallback analysis {"query":"apple","type":"product_name"}
[2025-10-05T21:10:44.993Z] [INFO] Search history saved {"searchId":"68e2ded48b165db4bf858f52"}
[2025-10-05T21:10:44.994Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"424ms","responseSize":777,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"apple\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"Analysis for \\\"apple\\\" (product_name): This is a fallback analysis. Claude AI service is currently unavailable.\",\"recommendations\":[\"Consider portion size\",\"Check for allergens\",\"Balance with other nutrients\"],\"warnings\":[],\"benefits\":[\"Provides essential nutrients\",\"Good source of energy\"],\"nutritionalFacts\":{\"calories\":\"Varies by serving size\",\"macros\":\"Check product label\",\"keyNutrients\":[\"Essential vitamins and minerals\"]},\"isFallback\":true},\"timestamp\":\"2025-10-05T21:10:44.993Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T21:10:54.338Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:10:54.538Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:10:54.539Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:10:54.721Z] [INFO] Connecting to database...
[2025-10-05T21:10:54.721Z] [INFO] Connecting to database...
[2025-10-05T21:10:54.721Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:10:54.721Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:10:54.727Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:10:54.727Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:10:54.728Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:10:54.728Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:10:55.192Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"471ms"}
[2025-10-05T21:11:00.636Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:11:00.694Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:11:00.779Z] [INFO] Connecting to database...
[2025-10-05T21:11:00.779Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:11:00.785Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:11:00.787Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:11:00.820Z] [INFO] Connecting to database...
[2025-10-05T21:11:00.821Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:11:00.826Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:11:00.828Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:11:01.246Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"467ms"}
[2025-10-05T21:11:06.409Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:11:06.410Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:11:06.529Z] [INFO] Connecting to database...
[2025-10-05T21:11:06.529Z] [INFO] Connecting to database...
[2025-10-05T21:11:06.529Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:11:06.529Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:11:06.534Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:11:06.534Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:11:06.536Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:11:06.536Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:11:06.979Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"450ms"}
[2025-10-05T21:13:04.162Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:13:04.215Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:13:04.305Z] [INFO] Connecting to database...
[2025-10-05T21:13:04.305Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:13:04.311Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:13:04.313Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:13:04.338Z] [INFO] Connecting to database...
[2025-10-05T21:13:04.339Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:13:04.344Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:13:04.345Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:13:05.046Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"741ms"}
[2025-10-05T21:13:09.202Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:13:09.257Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:13:09.320Z] [INFO] Connecting to database...
[2025-10-05T21:13:09.321Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:13:09.326Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:13:09.327Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:13:09.364Z] [INFO] Connecting to database...
[2025-10-05T21:13:09.364Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:13:09.369Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:13:09.370Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:13:09.795Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"474ms"}
[2025-10-05T21:13:14.911Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:13:15.010Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:13:15.094Z] [INFO] Connecting to database...
[2025-10-05T21:13:15.094Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:13:15.099Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:13:15.101Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:13:15.192Z] [INFO] Connecting to database...
[2025-10-05T21:13:15.192Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:13:15.197Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:13:15.198Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:13:15.590Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"496ms"}
[2025-10-05T21:13:49.430Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:13:49.430Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:13:49.435Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"apple","searchType":"product_name"}}
[2025-10-05T21:13:49.436Z] [INFO] Search request received {"query":"apple","type":"product_name","userId":"anonymous"}
[2025-10-05T21:13:49.437Z] [INFO] Starting Claude AI analysis {"query":"apple","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://api.anthropic.com","model":"claude-3-sonnet-20240229"}
[2025-10-05T21:13:49.922Z] [ERROR] undefined {"error":"Request failed with status code 404","query":"apple","type":"product_name"}
[2025-10-05T21:13:49.922Z] [WARN] Using fallback analysis {"query":"apple","type":"product_name"}
[2025-10-05T21:13:49.963Z] [INFO] Search history saved {"searchId":"68e2df8df36353167d8a4b79"}
[2025-10-05T21:13:49.965Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"531ms","responseSize":958,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"apple\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"apple\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true},\"timestamp\":\"2025-10-05T21:13:49.964Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T21:14:22.865Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:14:22.865Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:14:22.866Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"banana","searchType":"product_name"}}
[2025-10-05T21:14:22.866Z] [INFO] Search request received {"query":"banana","type":"product_name","userId":"anonymous"}
[2025-10-05T21:14:22.866Z] [INFO] Starting Claude AI analysis {"query":"banana","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://api.anthropic.com","model":"claude-3-sonnet-20240229"}
[2025-10-05T21:14:23.226Z] [ERROR] undefined {"error":"Request failed with status code 404","query":"banana","type":"product_name"}
[2025-10-05T21:14:23.228Z] [WARN] Using fallback analysis {"query":"banana","type":"product_name"}
[2025-10-05T21:14:23.265Z] [INFO] Search history saved {"searchId":"68e2dfaff36353167d8a4b7b"}
[2025-10-05T21:14:23.266Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"400ms","responseSize":960,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"banana\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"banana\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true},\"timestamp\":\"2025-10-05T21:14:23.266Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T21:14:28.775Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:14:28.789Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:14:28.987Z] [INFO] Connecting to database...
[2025-10-05T21:14:28.987Z] [INFO] Connecting to database...
[2025-10-05T21:14:28.987Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:14:28.987Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:14:28.993Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:14:28.993Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:14:28.994Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:14:28.995Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:14:29.773Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"786ms"}
[2025-10-05T21:14:30.862Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:14:30.917Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:14:30.986Z] [INFO] Connecting to database...
[2025-10-05T21:14:30.986Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:14:30.992Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:14:30.993Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:14:31.036Z] [INFO] Connecting to database...
[2025-10-05T21:14:31.036Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:14:31.042Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:14:31.043Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:14:31.406Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"420ms"}
[2025-10-05T21:14:37.121Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:14:37.170Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:14:37.250Z] [INFO] Connecting to database...
[2025-10-05T21:14:37.250Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:14:37.255Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:14:37.257Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:14:37.290Z] [INFO] Connecting to database...
[2025-10-05T21:14:37.291Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:14:37.295Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:14:37.297Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:14:37.710Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"460ms"}
[2025-10-05T21:19:17.138Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:19:17.139Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:19:17.143Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:19:17.144Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:19:17.156Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-05T21:19:17.159Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-05T21:19:17.159Z] [INFO] Starting Claude AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://api.anthropic.com","model":"claude-3-sonnet-20240229"}
[2025-10-05T21:19:17.731Z] [ERROR] undefined {"error":"Request failed with status code 404","query":"coke","type":"product_name"}
[2025-10-05T21:19:17.732Z] [WARN] Using fallback analysis {"query":"coke","type":"product_name"}
[2025-10-05T21:19:17.798Z] [INFO] Search history saved {"searchId":"68e2e0d5033a1e20daeaaf66"}
[2025-10-05T21:19:17.800Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"645ms","responseSize":956,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"coke\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true},\"timestamp\":\"2025-10-05T21:19:17.798Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T21:25:12.251Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:25:12.253Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:25:12.255Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:25:12.256Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:25:12.257Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-05T21:25:12.258Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-05T21:25:12.259Z] [INFO] Starting Claude AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://api.anthropic.com","model":"claude-3-sonnet-20240229"}
[2025-10-05T21:25:12.737Z] [ERROR] undefined {"error":"Request failed with status code 404","query":"coke","type":"product_name"}
[2025-10-05T21:25:12.738Z] [WARN] Using fallback analysis {"query":"coke","type":"product_name"}
[2025-10-05T21:25:12.791Z] [INFO] Search history saved {"searchId":"68e2e238033a1e20daeaaf68"}
[2025-10-05T21:25:12.792Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"535ms","responseSize":956,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"coke\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true},\"timestamp\":\"2025-10-05T21:25:12.791Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T21:25:55.981Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:25:55.982Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:25:55.984Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:25:55.984Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:25:55.985Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"suger cube","searchType":"product_name"}}
[2025-10-05T21:25:55.985Z] [INFO] Search request received {"query":"suger cube","type":"product_name","userId":"anonymous"}
[2025-10-05T21:25:55.986Z] [INFO] Starting Claude AI analysis {"query":"suger cube","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://api.anthropic.com","model":"claude-3-sonnet-20240229"}
[2025-10-05T21:25:56.339Z] [ERROR] undefined {"error":"Request failed with status code 404","query":"suger cube","type":"product_name"}
[2025-10-05T21:25:56.340Z] [WARN] Using fallback analysis {"query":"suger cube","type":"product_name"}
[2025-10-05T21:25:56.382Z] [INFO] Search history saved {"searchId":"68e2e264033a1e20daeaaf6a"}
[2025-10-05T21:25:56.383Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"398ms","responseSize":968,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"suger cube\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"suger cube\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true},\"timestamp\":\"2025-10-05T21:25:56.383Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T21:29:27.850Z] [WARN] Database disconnected
[2025-10-05T21:29:27.885Z] [INFO] Database reconnected
[2025-10-05T21:35:54.377Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:35:54.378Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:35:54.380Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:35:54.381Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:35:54.381Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"suger cube","searchType":"product_name"}}
[2025-10-05T21:35:54.383Z] [INFO] Search request received {"query":"suger cube","type":"product_name","userId":"anonymous"}
[2025-10-05T21:35:54.383Z] [INFO] Starting Claude AI analysis {"query":"suger cube","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://api.anthropic.com","model":"claude-3-sonnet-20240229"}
[2025-10-05T21:35:54.751Z] [ERROR] undefined {"error":"Request failed with status code 404","query":"suger cube","type":"product_name"}
[2025-10-05T21:35:54.752Z] [WARN] Using fallback analysis {"query":"suger cube","type":"product_name"}
[2025-10-05T21:35:55.158Z] [INFO] Search history saved {"searchId":"68e2e4ba033a1e20daeaaf6c"}
[2025-10-05T21:35:55.159Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"778ms","responseSize":968,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"suger cube\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"suger cube\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true},\"timestamp\":\"2025-10-05T21:35:55.159Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T21:35:55.996Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:35:55.997Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:35:55.998Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"suger cube","searchType":"product_name"}}
[2025-10-05T21:35:55.999Z] [INFO] Search request received {"query":"suger cube","type":"product_name","userId":"anonymous"}
[2025-10-05T21:35:55.999Z] [INFO] Starting Claude AI analysis {"query":"suger cube","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://api.anthropic.com","model":"claude-3-sonnet-20240229"}
[2025-10-05T21:35:56.327Z] [ERROR] undefined {"error":"Request failed with status code 404","query":"suger cube","type":"product_name"}
[2025-10-05T21:35:56.328Z] [WARN] Using fallback analysis {"query":"suger cube","type":"product_name"}
[2025-10-05T21:35:56.366Z] [INFO] Search history saved {"searchId":"68e2e4bc033a1e20daeaaf6e"}
[2025-10-05T21:35:56.367Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"369ms","responseSize":968,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"suger cube\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"suger cube\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true},\"timestamp\":\"2025-10-05T21:35:56.367Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T21:37:05.542Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:37:05.545Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:37:05.547Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:37:05.548Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:37:05.549Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"suger cube","searchType":"product_name"}}
[2025-10-05T21:37:05.550Z] [INFO] Search request received {"query":"suger cube","type":"product_name","userId":"anonymous"}
[2025-10-05T21:37:05.550Z] [INFO] Starting Claude AI analysis {"query":"suger cube","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://api.anthropic.com","model":"claude-3-sonnet-20240229"}
[2025-10-05T21:37:05.897Z] [ERROR] undefined {"error":"Request failed with status code 404","query":"suger cube","type":"product_name"}
[2025-10-05T21:37:05.897Z] [WARN] Using fallback analysis {"query":"suger cube","type":"product_name"}
[2025-10-05T21:37:05.937Z] [INFO] Search history saved {"searchId":"68e2e501033a1e20daeaaf70"}
[2025-10-05T21:37:05.938Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"389ms","responseSize":968,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"suger cube\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"suger cube\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true},\"timestamp\":\"2025-10-05T21:37:05.937Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T21:37:13.328Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:37:13.328Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:37:13.330Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:37:13.330Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:37:13.331Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"suger cube","searchType":"product_name"}}
[2025-10-05T21:37:13.331Z] [INFO] Search request received {"query":"suger cube","type":"product_name","userId":"anonymous"}
[2025-10-05T21:37:13.331Z] [INFO] Starting Claude AI analysis {"query":"suger cube","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://api.anthropic.com","model":"claude-3-sonnet-20240229"}
[2025-10-05T21:37:13.707Z] [ERROR] undefined {"error":"Request failed with status code 404","query":"suger cube","type":"product_name"}
[2025-10-05T21:37:13.707Z] [WARN] Using fallback analysis {"query":"suger cube","type":"product_name"}
[2025-10-05T21:37:13.749Z] [INFO] Search history saved {"searchId":"68e2e509033a1e20daeaaf72"}
[2025-10-05T21:37:13.750Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"419ms","responseSize":968,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"suger cube\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"suger cube\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true},\"timestamp\":\"2025-10-05T21:37:13.750Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T21:38:34.211Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:38:34.218Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:38:43.053Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:38:43.061Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:38:49.428Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:38:49.428Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:38:52.274Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:38:52.277Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:38:52.408Z] [INFO] Connecting to database...
[2025-10-05T21:38:52.408Z] [INFO] Connecting to database...
[2025-10-05T21:38:52.408Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:38:52.408Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:38:52.414Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:38:52.414Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:38:52.416Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:38:52.416Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:38:53.454Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"1046ms"}
[2025-10-05T21:39:29.128Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:39:29.129Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:39:29.134Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"apple","searchType":"product_name"}}
[2025-10-05T21:39:29.136Z] [INFO] Search request received {"query":"apple","type":"product_name","userId":"anonymous"}
[2025-10-05T21:39:29.136Z] [INFO] Starting Google AI analysis {"query":"apple","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-1.5-flash"}
[2025-10-05T21:39:29.922Z] [ERROR] undefined {"error":"Request failed with status code 404","statusCode":404,"statusText":"Not Found","responseData":{"error":{"code":404,"message":"models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","status":"NOT_FOUND"}},"query":"apple","type":"product_name"}
[2025-10-05T21:39:29.922Z] [WARN] Using fallback analysis {"query":"apple","type":"product_name"}
[2025-10-05T21:39:29.970Z] [INFO] Search history saved {"searchId":"68e2e5917856af0c75f493b2"}
[2025-10-05T21:39:29.972Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"838ms","responseSize":958,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"apple\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"apple\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true},\"timestamp\":\"2025-10-05T21:39:29.970Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T21:39:41.035Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:39:41.036Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:39:41.036Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"banana","searchType":"product_name"}}
[2025-10-05T21:39:41.037Z] [INFO] Search request received {"query":"banana","type":"product_name","userId":"anonymous"}
[2025-10-05T21:39:41.037Z] [INFO] Starting Google AI analysis {"query":"banana","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-1.5-flash"}
[2025-10-05T21:39:42.052Z] [ERROR] undefined {"error":"Request failed with status code 404","statusCode":404,"statusText":"Not Found","responseData":{"error":{"code":404,"message":"models/gemini-1.5-flash is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.","status":"NOT_FOUND"}},"query":"banana","type":"product_name"}
[2025-10-05T21:39:42.052Z] [WARN] Using fallback analysis {"query":"banana","type":"product_name"}
[2025-10-05T21:39:42.090Z] [INFO] Search history saved {"searchId":"68e2e59e7856af0c75f493b4"}
[2025-10-05T21:39:42.092Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"1056ms","responseSize":960,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"banana\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"banana\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true},\"timestamp\":\"2025-10-05T21:39:42.091Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T21:39:53.202Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:39:53.222Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:39:53.434Z] [INFO] Connecting to database...
[2025-10-05T21:39:53.434Z] [INFO] Connecting to database...
[2025-10-05T21:39:53.434Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:39:53.434Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:39:53.441Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:39:53.441Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:39:53.442Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:39:53.442Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:39:53.927Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"493ms"}
[2025-10-05T21:40:08.351Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:40:08.422Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:40:08.545Z] [INFO] Connecting to database...
[2025-10-05T21:40:08.545Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:40:08.546Z] [INFO] Connecting to database...
[2025-10-05T21:40:08.546Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:40:08.551Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:40:08.552Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:40:08.553Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:40:08.553Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:40:08.994Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"449ms"}
[2025-10-05T21:40:11.031Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:40:11.085Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:40:11.140Z] [INFO] Connecting to database...
[2025-10-05T21:40:11.140Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:40:11.145Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:40:11.147Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:40:11.186Z] [INFO] Connecting to database...
[2025-10-05T21:40:11.186Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:40:11.191Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:40:11.193Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:40:11.671Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"531ms"}
[2025-10-05T21:40:51.902Z] [WARN] Database disconnected
[2025-10-05T21:41:03.156Z] [INFO] Database reconnected
[2025-10-05T21:41:42.631Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:41:42.631Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:41:42.852Z] [INFO] Connecting to database...
[2025-10-05T21:41:42.852Z] [INFO] Connecting to database...
[2025-10-05T21:41:42.853Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:41:42.853Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:41:42.858Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:41:42.858Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:41:42.859Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:41:42.859Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:41:43.437Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"584ms"}
[2025-10-05T21:43:15.503Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:15.531Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:15.736Z] [INFO] Connecting to database...
[2025-10-05T21:43:15.737Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:15.739Z] [INFO] Connecting to database...
[2025-10-05T21:43:15.739Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:15.743Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:15.744Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:43:15.744Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:15.746Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:43:19.337Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"3599ms"}
[2025-10-05T21:43:20.394Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:20.449Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:20.515Z] [INFO] Connecting to database...
[2025-10-05T21:43:20.516Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:20.522Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:20.524Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:43:20.567Z] [INFO] Connecting to database...
[2025-10-05T21:43:20.568Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:20.573Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:20.574Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:43:21.020Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"504ms"}
[2025-10-05T21:43:22.634Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:22.695Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:22.758Z] [INFO] Connecting to database...
[2025-10-05T21:43:22.759Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:22.764Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:22.766Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:43:22.813Z] [INFO] Connecting to database...
[2025-10-05T21:43:22.813Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:22.818Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:22.820Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:43:23.264Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"505ms"}
[2025-10-05T21:43:26.310Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:26.415Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:26.493Z] [INFO] Connecting to database...
[2025-10-05T21:43:26.493Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:26.499Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:26.500Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:43:26.536Z] [INFO] Connecting to database...
[2025-10-05T21:43:26.537Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:26.542Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:26.544Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:43:26.987Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"494ms"}
[2025-10-05T21:43:34.553Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:34.613Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:34.681Z] [INFO] Connecting to database...
[2025-10-05T21:43:34.681Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:34.687Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:34.688Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:43:34.734Z] [INFO] Connecting to database...
[2025-10-05T21:43:34.735Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:34.740Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:34.741Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:43:35.189Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"508ms"}
[2025-10-05T21:43:36.735Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:36.788Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:36.855Z] [INFO] Connecting to database...
[2025-10-05T21:43:36.855Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:36.861Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:36.862Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:43:36.901Z] [INFO] Connecting to database...
[2025-10-05T21:43:36.901Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:36.906Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:36.908Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:43:37.322Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"467ms"}
[2025-10-05T21:43:43.333Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:43.385Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:43.461Z] [INFO] Connecting to database...
[2025-10-05T21:43:43.461Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:43.467Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:43.468Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:43:43.504Z] [INFO] Connecting to database...
[2025-10-05T21:43:43.504Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:43.509Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:43.511Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:43:43.955Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"494ms"}
[2025-10-05T21:43:45.671Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:45.714Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:45.794Z] [INFO] Connecting to database...
[2025-10-05T21:43:45.794Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:45.801Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:45.802Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:43:45.833Z] [INFO] Connecting to database...
[2025-10-05T21:43:45.833Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:45.838Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:45.840Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:43:46.254Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"460ms"}
[2025-10-05T21:43:54.217Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:54.260Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:54.361Z] [INFO] Connecting to database...
[2025-10-05T21:43:54.361Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:54.367Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:54.368Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:43:54.382Z] [INFO] Connecting to database...
[2025-10-05T21:43:54.382Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:54.388Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:54.389Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:43:54.832Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"471ms"}
[2025-10-05T21:43:57.670Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:57.738Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:43:57.804Z] [INFO] Connecting to database...
[2025-10-05T21:43:57.804Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:57.810Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:57.811Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:43:57.849Z] [INFO] Connecting to database...
[2025-10-05T21:43:57.849Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:43:57.855Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:43:57.856Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:44:00.307Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"2503ms"}
[2025-10-05T21:44:07.368Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:44:07.413Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:44:07.492Z] [INFO] Connecting to database...
[2025-10-05T21:44:07.492Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:44:07.497Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:44:07.498Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:44:07.527Z] [INFO] Connecting to database...
[2025-10-05T21:44:07.527Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:44:07.532Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:44:07.534Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:44:07.976Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"484ms"}
[2025-10-05T21:44:15.265Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:44:15.485Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:44:15.485Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:44:15.619Z] [INFO] Connecting to database...
[2025-10-05T21:44:15.619Z] [INFO] Connecting to database...
[2025-10-05T21:44:15.620Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:44:15.620Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:44:15.626Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:44:15.626Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:44:15.627Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:44:15.628Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:44:16.141Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"521ms"}
[2025-10-05T21:44:24.927Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:44:24.985Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:44:25.046Z] [INFO] Connecting to database...
[2025-10-05T21:44:25.046Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:44:25.051Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:44:25.052Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:44:25.092Z] [INFO] Connecting to database...
[2025-10-05T21:44:25.092Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:44:25.097Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:44:25.098Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:44:25.559Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"513ms"}
[2025-10-05T21:44:27.952Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:44:27.997Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:44:28.071Z] [INFO] Connecting to database...
[2025-10-05T21:44:28.071Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:44:28.076Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:44:28.078Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:44:28.109Z] [INFO] Connecting to database...
[2025-10-05T21:44:28.110Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:44:28.114Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:44:28.116Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:44:30.576Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"2505ms"}
[2025-10-05T21:46:18.559Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:46:18.559Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:46:18.564Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"apple","searchType":"product_name"}}
[2025-10-05T21:46:18.566Z] [INFO] Search request received {"query":"apple","type":"product_name","userId":"anonymous"}
[2025-10-05T21:46:18.566Z] [INFO] Starting Google AI analysis {"query":"apple","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-05T21:46:26.228Z] [INFO] Google AI analysis completed {"query":"apple","responseLength":1433}
[2025-10-05T21:46:26.280Z] [INFO] Search history saved {"searchId":"68e2e7323a0252a0e56d4399"}
[2025-10-05T21:46:26.281Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"7717ms","responseSize":3808,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"apple\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":60,\"analysis\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"positive\\\",\\n  \\\"score\\\": 95,\\n  \\\"analysis\\\": \\\"Hey there, let's talk about the humble apple! This classic fruit is a real superstar when it comes to healthy eating. Apples are basically nature's perfect snack  they're crunchy, sweet (or sometimes a little tart), and super refreshing. They grow on trees and come in so many different colors and flavors. Eating an apple is a fantastic way to give your body a boost because they're packed with good stuff and very little of the bad. Think of them as a little gift from nature that helps keep you feeling good and full of energy.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Great choice for a healthy snack anytime!\\\",\\n    \\\"Add sliced apples to your oatmeal or yogurt for extra crunch and sweetness.\\\",\\n    \\\"Bake them into a healthy dessert like baked apples (skip the added sugar if you can!).\\\",\\n    \\\"Always wash your apple thoroughly before eating.\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"None really! Apples are generally fantastic for everyone. Just be sure to wash them well.\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Good for your heart health.\\\",\\n    \\\"Helps with digestion thanks to all that fiber.\\\",\\n    \\\"Boosts your immune system with Vitamin C.\\\",\\n    \\\"Helps you feel full and satisfied, which can be great for managing your weight.\\\",\\n    \\\"Gives you natural, steady energy.\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"A medium apple gives you about 95-100 units of energy.\\\",\\n    \\\"macros\\\": \\\"It's\",\"recommendations\":[\"Eat in normal portions\",\"Balance with other healthy foods\"],\"warnings\":[\"High in sugar\"],\"benefits\":[\"Good for your health\",\"Gives you energy\"],\"simpleSummary\":\"Basic info about apple - check the full analysis for details.\",\"rawResponse\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"positive\\\",\\n  \\\"score\\\": 95,\\n  \\\"analysis\\\": \\\"Hey there, let's talk about the humble apple! This classic fruit is a real superstar when it comes to healthy eating. Apples are basically nature's perfect snack  they're crunchy, sweet (or sometimes a little tart), and super refreshing. They grow on trees and come in so many different colors and flavors. Eating an apple is a fantastic way to give your body a boost because they're packed with good stuff and very little of the bad. Think of them as a little gift from nature that helps keep you feeling good and full of energy.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Great choice for a healthy snack anytime!\\\",\\n    \\\"Add sliced apples to your oatmeal or yogurt for extra crunch and sweetness.\\\",\\n    \\\"Bake them into a healthy dessert like baked apples (skip the added sugar if you can!).\\\",\\n    \\\"Always wash your apple thoroughly before eating.\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"None really! Apples are generally fantastic for everyone. Just be sure to wash them well.\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Good for your heart health.\\\",\\n    \\\"Helps with digestion thanks to all that fiber.\\\",\\n    \\\"Boosts your immune system with Vitamin C.\\\",\\n    \\\"Helps you feel full and satisfied, which can be great for managing your weight.\\\",\\n    \\\"Gives you natural, steady energy.\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"A medium apple gives you about 95-100 units of energy.\\\",\\n    \\\"macros\\\": \\\"It's\"},\"timestamp\":\"2025-10-05T21:46:26.280Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-05T21:46:28.707Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:46:28.727Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:46:28.944Z] [INFO] Connecting to database...
[2025-10-05T21:46:28.944Z] [INFO] Connecting to database...
[2025-10-05T21:46:28.944Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:46:28.944Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:46:28.950Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:46:28.950Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:46:28.951Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:46:28.951Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:46:29.489Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"545ms"}
[2025-10-05T21:46:30.441Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:46:30.556Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:46:30.642Z] [INFO] Connecting to database...
[2025-10-05T21:46:30.643Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:46:30.649Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:46:30.651Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:46:30.681Z] [INFO] Connecting to database...
[2025-10-05T21:46:30.681Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:46:30.687Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:46:30.688Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:46:31.110Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"466ms"}
[2025-10-05T21:46:32.120Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:46:32.190Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:46:32.263Z] [INFO] Connecting to database...
[2025-10-05T21:46:32.264Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:46:32.270Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:46:32.272Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:46:32.324Z] [INFO] Connecting to database...
[2025-10-05T21:46:32.324Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:46:32.330Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:46:32.331Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:46:32.734Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"470ms"}
[2025-10-05T21:46:37.759Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:46:37.759Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:46:37.763Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:46:37.764Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:46:37.776Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"suger cube","searchType":"product_name"}}
[2025-10-05T21:46:37.780Z] [INFO] Search request received {"query":"suger cube","type":"product_name","userId":"anonymous"}
[2025-10-05T21:46:37.781Z] [INFO] Starting Google AI analysis {"query":"suger cube","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-05T21:46:37.996Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:46:38.041Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:46:38.117Z] [INFO] Connecting to database...
[2025-10-05T21:46:38.117Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:46:38.122Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:46:38.123Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:46:38.152Z] [INFO] Connecting to database...
[2025-10-05T21:46:38.153Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:46:38.159Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:46:38.160Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-05T21:46:38.592Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"475ms"}
[2025-10-05T21:46:51.001Z] [INFO] SIGINT received. Shutting down gracefully...
[2025-10-05T21:46:51.003Z] [INFO] Process terminated
[2025-10-05T21:46:52.441Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-05T21:46:52.631Z] [INFO] Connecting to database...
[2025-10-05T21:46:52.631Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-05T21:46:52.636Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-05T21:46:52.637Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-05T21:46:53.112Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"481ms"}
[2025-10-05T21:47:03.380Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:47:03.381Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:47:03.386Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-05T21:47:03.387Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-05T21:47:03.396Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"suger cube","searchType":"product_name"}}
[2025-10-05T21:47:03.399Z] [INFO] Search request received {"query":"suger cube","type":"product_name","userId":"anonymous"}
[2025-10-05T21:47:03.399Z] [INFO] Starting Google AI analysis {"query":"suger cube","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-05T21:47:10.785Z] [INFO] Google AI analysis completed {"query":"suger cube","responseLength":1372}
[2025-10-05T21:47:10.786Z] [ERROR] undefined {"error":"Expected ',' or '}' after property value in JSON at position 1363 (line 24 column 4)","responseText":"```json\n{\n  \"healthImpact\": \"negative\",\n  \"score\": 15,\n  \"analysis\": \"Hey there! A sugar cube is basically pure, concentrated sugar. Think of it like a tiny block of quick energy. When you eat it, you"}
[2025-10-05T21:47:10.834Z] [INFO] Search history saved {"searchId":"68e2e75e65d247fffa347d75"}
[2025-10-05T21:47:10.836Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"7441ms","responseSize":3732,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"suger cube\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":60,\"analysis\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Hey there! A sugar cube is basically pure, concentrated sugar. Think of it like a tiny block of quick energy. When you eat it, your body gets a super-fast jolt of energy, but it doesn't last long, and you might feel a dip afterward. It doesn't offer any good stuff like vitamins, minerals, or fiber  just sugar. Eating too much sugar regularly isn't good for your body in the long run.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Use very, very sparingly, almost like a special occasion treat.\\\",\\n    \\\"If you need sweetness, try using natural options like a tiny bit of fruit or a small drizzle of honey instead.\\\",\\n    \\\"Focus on getting your energy from foods that also give you good nutrients, like fruits, veggies, and whole grains.\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Very high in sugar.\\\",\\n    \\\"Doesn't offer any good nutrients your body needs.\\\",\\n    \\\"Eating too many can lead to weight gain, affect your teeth, and contribute to other health problems over time.\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Gives you a very quick, but temporary, energy boost.\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"A small sugar cube has a bit of energy, usually around 15-20 energy points (calories).\\\",\\n    \\\"macros\\\": \\\"It's all carbohydrates, specifically sugar. No protein or fat.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"None! It's just sugar.\\\"\\n    ]\\n  },\",\"recommendations\":[\"Eat in normal portions\",\"Balance with other healthy foods\"],\"warnings\":[\"High in sugar\"],\"benefits\":[\"Good for your health\",\"Gives you energy\",\"Contains vitamins your body needs\"],\"simpleSummary\":\"Basic info about suger cube - check the full analysis for details.\",\"rawResponse\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Hey there! A sugar cube is basically pure, concentrated sugar. Think of it like a tiny block of quick energy. When you eat it, your body gets a super-fast jolt of energy, but it doesn't last long, and you might feel a dip afterward. It doesn't offer any good stuff like vitamins, minerals, or fiber  just sugar. Eating too much sugar regularly isn't good for your body in the long run.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Use very, very sparingly, almost like a special occasion treat.\\\",\\n    \\\"If you need sweetness, try using natural options like a tiny bit of fruit or a small drizzle of honey instead.\\\",\\n    \\\"Focus on getting your energy from foods that also give you good nutrients, like fruits, veggies, and whole grains.\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Very high in sugar.\\\",\\n    \\\"Doesn't offer any good nutrients your body needs.\\\",\\n    \\\"Eating too many can lead to weight gain, affect your teeth, and contribute to other health problems over time.\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Gives you a very quick, but temporary, energy boost.\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"A small sugar cube has a bit of energy, usually around 15-20 energy points (calories).\\\",\\n    \\\"macros\\\": \\\"It's all carbohydrates, specifically sugar. No protein or fat.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"None! It's just sugar.\\\"\\n    ]\\n  },\"},\"timestamp\":\"2025-10-05T21:47:10.835Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-05T22:05:16.864Z] [WARN] Database disconnected
[2025-10-05T22:05:16.878Z] [INFO] Database reconnected
[2025-10-05T22:20:39.947Z] [WARN] Database disconnected
[2025-10-05T22:20:39.950Z] [INFO] Database reconnected
[2025-10-05T22:35:52.552Z] [INFO] Database reconnected
[2025-10-05T22:36:02.804Z] [WARN] Database disconnected
[2025-10-05T22:36:02.820Z] [INFO] Database reconnected
[2025-10-05T22:51:15.297Z] [INFO] Database reconnected
[2025-10-05T22:51:15.387Z] [INFO] Database reconnected
[2025-10-05T22:51:25.542Z] [WARN] Database disconnected
[2025-10-05T22:51:25.547Z] [INFO] Database reconnected
[2025-10-05T23:37:28.162Z] [INFO] Database reconnected
[2025-10-05T23:37:38.411Z] [WARN] Database disconnected
[2025-10-05T23:37:38.423Z] [INFO] Database reconnected
[2025-10-06T00:06:33.369Z] [WARN] Database disconnected
[2025-10-06T00:06:33.379Z] [INFO] Database reconnected
[2025-10-06T00:21:46.457Z] [INFO] Database reconnected
[2025-10-06T00:21:46.551Z] [INFO] Database reconnected
[2025-10-06T00:21:56.701Z] [WARN] Database disconnected
[2025-10-06T00:21:56.705Z] [INFO] Database reconnected
[2025-10-06T00:37:22.215Z] [WARN] Database disconnected
[2025-10-06T00:37:22.234Z] [INFO] Database reconnected
[2025-10-06T00:51:59.684Z] [INFO] Database reconnected
[2025-10-06T00:51:59.774Z] [INFO] Database reconnected
[2025-10-06T00:52:09.932Z] [WARN] Database disconnected
[2025-10-06T00:52:09.944Z] [INFO] Database reconnected
[2025-10-06T01:07:22.397Z] [INFO] Database reconnected
[2025-10-06T01:22:45.003Z] [INFO] Database reconnected
[2025-10-06T01:38:10.321Z] [INFO] Database reconnected
[2025-10-06T01:38:20.553Z] [WARN] Database disconnected
[2025-10-06T01:38:20.560Z] [INFO] Database reconnected
[2025-10-06T01:53:09.814Z] [WARN] Database disconnected
[2025-10-06T01:53:09.825Z] [INFO] Database reconnected
[2025-10-06T02:08:22.241Z] [INFO] Database reconnected
[2025-10-06T02:23:56.287Z] [WARN] Database disconnected
[2025-10-06T02:23:56.297Z] [INFO] Database reconnected
[2025-10-06T02:33:10.666Z] [WARN] Database disconnected
[2025-10-06T02:33:10.671Z] [INFO] Database reconnected
[2025-10-06T04:27:41.930Z] [INFO] Database reconnected
[2025-10-06T04:31:02.875Z] [WARN] Database disconnected
[2025-10-06T04:31:02.910Z] [INFO] Database reconnected
[2025-10-06T05:22:46.085Z] [WARN] Database disconnected
[2025-10-06T05:22:46.108Z] [INFO] Database reconnected
[2025-10-06T05:28:07.012Z] [INFO] Database reconnected
[2025-10-06T05:51:31.416Z] [WARN] Database disconnected
[2025-10-06T05:51:31.423Z] [INFO] Database reconnected
[2025-10-06T06:55:02.767Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T06:55:02.772Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T06:55:02.775Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T06:55:02.775Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T06:55:02.781Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"suger cube","searchType":"product_name"}}
[2025-10-06T06:55:02.787Z] [INFO] Search request received {"query":"suger cube","type":"product_name","userId":"anonymous"}
[2025-10-06T06:55:02.787Z] [INFO] Starting Google AI analysis {"query":"suger cube","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T06:55:12.041Z] [INFO] Google AI analysis completed {"query":"suger cube","responseLength":551}
[2025-10-06T06:55:12.347Z] [INFO] Search history saved {"searchId":"68e367d065d247fffa347d77"}
[2025-10-06T06:55:12.349Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"9568ms","responseSize":1800,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"suger cube\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":60,\"analysis\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"caution\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Hey there! A sugar cube is basically just a tiny, solid block of pure sugar. Think of it like super concentrated sweetness. When you eat it, your body gets a very quick burst of energy because sugar is absorbed super fast. But because it's so pure, there's nothing else in it  no vitamins, no fiber, nothing good for your body to hold onto that energy. This means that quick energy boost can often lead to a 'sugar crash' later, making you feel tired or hungry again soon. It's not\",\"recommendations\":[\"Eat in normal portions\",\"Balance with other healthy foods\"],\"warnings\":[\"High in sugar\"],\"benefits\":[\"Good for your health\",\"Gives you energy\",\"Contains vitamins your body needs\"],\"simpleSummary\":\"Basic info about suger cube - check the full analysis for details.\",\"rawResponse\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"caution\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Hey there! A sugar cube is basically just a tiny, solid block of pure sugar. Think of it like super concentrated sweetness. When you eat it, your body gets a very quick burst of energy because sugar is absorbed super fast. But because it's so pure, there's nothing else in it  no vitamins, no fiber, nothing good for your body to hold onto that energy. This means that quick energy boost can often lead to a 'sugar crash' later, making you feel tired or hungry again soon. It's not\"},\"timestamp\":\"2025-10-06T06:55:12.348Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T06:59:15.910Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T06:59:15.912Z] [DEBUG] Incoming request {"method":"GET","url":"/api/search","query":{},"params":{},"headers":{"authorization":"none","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
[2025-10-06T06:59:15.915Z] [INFO] Request completed {"method":"GET","url":"/","statusCode":404,"responseTime":"2ms","responseSize":53,"responseBody":"{\"success\":false,\"message\":\"Route not found\"}","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T07:00:11.664Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:00:11.665Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:00:11.667Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:00:11.667Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:00:11.667Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"suger cube","searchType":"product_name"}}
[2025-10-06T07:00:11.668Z] [INFO] Search request received {"query":"suger cube","type":"product_name","userId":"anonymous"}
[2025-10-06T07:00:11.668Z] [INFO] Starting Google AI analysis {"query":"suger cube","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:00:20.193Z] [INFO] Google AI analysis completed {"query":"suger cube","responseLength":1114}
[2025-10-06T07:00:20.248Z] [INFO] Search history saved {"searchId":"68e3690465d247fffa347d79"}
[2025-10-06T07:00:20.249Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"8582ms","responseSize":3042,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"suger cube\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":60,\"analysis\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"caution\\\",\\n  \\\"score\\\": 20,\\n  \\\"analysis\\\": \\\"Alright, let's chat about the humble sugar cube! Basically, a sugar cube is just pure, refined sugar pressed into a neat little shape. Think of it as a tiny, concentrated package of sweetness. When you eat one, your body gets a super quick burst of energy because sugar is absorbed really fast. This might feel good for a moment, but since there's nothing else in it  no fiber, no vitamins, no minerals  that energy boost can quickly turn into an 'energy crash,' leaving you feeling tired or sluggish soon after. It's not 'bad' in a tiny, occasional amount, but it definitely doesn't do much good for your body beyond that quick sugar rush.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy it as a very occasional treat, not an everyday thing.\\\",\\n    \\\"If you need sweetness, try natural options like fruit or a tiny bit of honey instead.\\\",\\n    \\\"Think about what you're adding it to  sometimes drinks or foods are already sweet enough!\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"High in sugar, which can lead to energy crashes.\\\",\\n    \\\"Eating too much sugar regularly can be\",\"recommendations\":[\"Eat in normal portions\",\"Balance with other healthy foods\"],\"warnings\":[\"High in sugar\"],\"benefits\":[\"Good for your health\",\"Gives you energy\",\"Contains vitamins your body needs\"],\"simpleSummary\":\"Basic info about suger cube - check the full analysis for details.\",\"rawResponse\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"caution\\\",\\n  \\\"score\\\": 20,\\n  \\\"analysis\\\": \\\"Alright, let's chat about the humble sugar cube! Basically, a sugar cube is just pure, refined sugar pressed into a neat little shape. Think of it as a tiny, concentrated package of sweetness. When you eat one, your body gets a super quick burst of energy because sugar is absorbed really fast. This might feel good for a moment, but since there's nothing else in it  no fiber, no vitamins, no minerals  that energy boost can quickly turn into an 'energy crash,' leaving you feeling tired or sluggish soon after. It's not 'bad' in a tiny, occasional amount, but it definitely doesn't do much good for your body beyond that quick sugar rush.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy it as a very occasional treat, not an everyday thing.\\\",\\n    \\\"If you need sweetness, try natural options like fruit or a tiny bit of honey instead.\\\",\\n    \\\"Think about what you're adding it to  sometimes drinks or foods are already sweet enough!\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"High in sugar, which can lead to energy crashes.\\\",\\n    \\\"Eating too much sugar regularly can be\"},\"timestamp\":\"2025-10-06T07:00:20.249Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T07:00:52.923Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:00:52.924Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:00:52.929Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:00:52.929Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:00:52.931Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T07:00:52.932Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-06T07:00:52.933Z] [INFO] Starting Google AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:01:02.932Z] [INFO] Google AI analysis completed {"query":"coke","responseLength":531}
[2025-10-06T07:01:02.979Z] [INFO] Search history saved {"searchId":"68e3692e65d247fffa347d7b"}
[2025-10-06T07:01:02.979Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"10048ms","responseSize":1723,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":60,\"analysis\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Hey there! So, when we talk about 'Coke,' we're looking at a classic fizzy drink. It's basically water mixed with a lot of sugar, some coloring, and flavor. Think of it like a sweet treat, but in liquid form. It gives you a quick burst of energy because of all that sugar, but it doesn't really offer your body anything useful like vitamins, minerals, or fiber. It's a bit like getting a quick 'sugar rush' that doesn't last, and then you might feel a bit tired\",\"recommendations\":[\"Eat in normal portions\",\"Balance with other healthy foods\"],\"warnings\":[\"High in sugar\"],\"benefits\":[\"Gives you energy\",\"Contains vitamins your body needs\"],\"simpleSummary\":\"Basic info about coke - check the full analysis for details.\",\"rawResponse\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Hey there! So, when we talk about 'Coke,' we're looking at a classic fizzy drink. It's basically water mixed with a lot of sugar, some coloring, and flavor. Think of it like a sweet treat, but in liquid form. It gives you a quick burst of energy because of all that sugar, but it doesn't really offer your body anything useful like vitamins, minerals, or fiber. It's a bit like getting a quick 'sugar rush' that doesn't last, and then you might feel a bit tired\"},\"timestamp\":\"2025-10-06T07:01:02.979Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T07:11:30.580Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:11:30.580Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:11:30.846Z] [INFO] Connecting to database...
[2025-10-06T07:11:30.846Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:11:30.846Z] [INFO] Connecting to database...
[2025-10-06T07:11:30.847Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:11:30.853Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:11:30.853Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:11:30.854Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:11:30.855Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:11:31.510Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"664ms"}
[2025-10-06T07:12:18.920Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:12:18.928Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:12:19.150Z] [INFO] Connecting to database...
[2025-10-06T07:12:19.150Z] [INFO] Connecting to database...
[2025-10-06T07:12:19.150Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:12:19.150Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:12:19.156Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:12:19.156Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:12:19.157Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:12:19.157Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:12:19.740Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"590ms"}
[2025-10-06T07:12:34.140Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:12:34.161Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:12:34.436Z] [INFO] Connecting to database...
[2025-10-06T07:12:34.436Z] [INFO] Connecting to database...
[2025-10-06T07:12:34.436Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:12:34.436Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:12:34.444Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:12:34.445Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:12:34.446Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:12:34.447Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:12:34.895Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"459ms"}
[2025-10-06T07:13:16.898Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:13:16.898Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:13:16.904Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T07:13:16.906Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-06T07:13:16.906Z] [INFO] Starting Google AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:13:27.661Z] [INFO] Google AI analysis completed {"query":"coke","responseLength":781}
[2025-10-06T07:13:27.719Z] [INFO] Search history saved {"searchId":"68e36c170aba21a6e20b4558"}
[2025-10-06T07:13:27.721Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"10818ms","responseSize":2544,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":60,\"analysis\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 20,\\n  \\\"analysis\\\": \\\"Coke is a very popular bubbly drink, often called a 'soda' or 'soft drink.' It's mainly water, lots of sugar, some flavorings, and a bit of caffeine. While it tastes sweet and can give you a quick burst of energy, it doesn't offer your body anything really good like vitamins, minerals, or fiber. Think of it more as a fun treat for your taste buds than something that helps your body stay strong and healthy.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy it once in a while as a special treat, not an everyday drink.\\\",\\n    \\\"Choose water, unsweetened tea, or milk most of the time.\\\",\\n    \\\"If you do drink it, try a smaller size to cut down on the sugar.\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Very high in sugar, which isn't good for\",\"recommendations\":[\"Eat in normal portions\",\"Balance with other healthy foods\"],\"warnings\":[\"High in sugar\"],\"benefits\":[\"Good for your health\",\"Gives you energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Information not available\",\"macros\":\"Information not available\",\"keyNutrients\":[]},\"simpleSummary\":\"Basic info about coke - check the full analysis for details.\",\"isFallback\":true,\"fallbackReason\":\"Text parsing fallback used\",\"rawResponse\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 20,\\n  \\\"analysis\\\": \\\"Coke is a very popular bubbly drink, often called a 'soda' or 'soft drink.' It's mainly water, lots of sugar, some flavorings, and a bit of caffeine. While it tastes sweet and can give you a quick burst of energy, it doesn't offer your body anything really good like vitamins, minerals, or fiber. Think of it more as a fun treat for your taste buds than something that helps your body stay strong and healthy.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy it once in a while as a special treat, not an everyday drink.\\\",\\n    \\\"Choose water, unsweetened tea, or milk most of the time.\\\",\\n    \\\"If you do drink it, try a smaller size to cut down on the sugar.\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Very high in sugar, which isn't good for\"},\"timestamp\":\"2025-10-06T07:13:27.720Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T07:19:15.539Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:19:15.540Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:19:15.543Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:19:15.544Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:19:15.545Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T07:19:15.548Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-06T07:19:15.548Z] [INFO] Starting Google AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:19:25.636Z] [ERROR] undefined {"error":"Cannot read properties of undefined (reading '0')","query":"coke","type":"product_name"}
[2025-10-06T07:19:25.636Z] [WARN] Using fallback analysis {"query":"coke","type":"product_name"}
[2025-10-06T07:19:25.699Z] [INFO] Search history saved {"searchId":"68e36d7d0aba21a6e20b455a"}
[2025-10-06T07:19:25.699Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"10154ms","responseSize":1030,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":50,\"analysis\":\"We're having trouble getting detailed info about \\\"coke\\\" right now. This is a basic analysis - for the best advice, try again in a moment.\",\"recommendations\":[\"Eat in normal portions\",\"Check if you have any allergies\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Gives your body energy\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Depends on how much you eat\",\"macros\":\"Check the food label for details\",\"keyNutrients\":[\"Vitamins and minerals your body needs\"]},\"simpleSummary\":\"This food gives you energy and nutrients, but we need more info for better advice.\",\"isFallback\":true,\"fallbackReason\":\"Google AI service unavailable\",\"rawResponse\":null},\"timestamp\":\"2025-10-06T07:19:25.699Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T07:21:47.583Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:21:47.585Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:21:47.591Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:21:47.591Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:21:47.596Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T07:21:47.599Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-06T07:21:47.600Z] [INFO] Starting Google AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:22:00.250Z] [INFO] Google AI analysis completed {"query":"coke","responseLength":321}
[2025-10-06T07:22:00.327Z] [INFO] Search history saved {"searchId":"68e36e180aba21a6e20b455c"}
[2025-10-06T07:22:00.328Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"12733ms","responseSize":1461,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":60,\"analysis\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Hey there! Let's chat about Coke. It's a super popular fizzy drink that tastes sweet and gives you a quick burst of energy thanks to all the sugar in it. It's really just sugar water with some flavor and bubbles. While it might taste good and give you\",\"recommendations\":[\"Eat in normal portions\",\"Balance with other healthy foods\"],\"warnings\":[\"High in sugar\"],\"benefits\":[\"Gives you energy\"],\"nutritionalFacts\":{\"calories\":\"Information not available\",\"macros\":\"Information not available\",\"keyNutrients\":[]},\"simpleSummary\":\"Basic info about coke - check the full analysis for details.\",\"isFallback\":true,\"fallbackReason\":\"Text parsing fallback used\",\"rawResponse\":\"```json\\n{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Hey there! Let's chat about Coke. It's a super popular fizzy drink that tastes sweet and gives you a quick burst of energy thanks to all the sugar in it. It's really just sugar water with some flavor and bubbles. While it might taste good and give you\"},\"timestamp\":\"2025-10-06T07:22:00.327Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T07:23:47.846Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:23:47.857Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:23:48.092Z] [INFO] Connecting to database...
[2025-10-06T07:23:48.092Z] [INFO] Connecting to database...
[2025-10-06T07:23:48.092Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:23:48.092Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:23:48.098Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:23:48.098Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:23:48.101Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:23:48.101Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:23:48.732Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"640ms"}
[2025-10-06T07:24:03.935Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:24:03.982Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:24:04.053Z] [INFO] Connecting to database...
[2025-10-06T07:24:04.053Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:24:04.059Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:24:04.060Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:24:04.093Z] [INFO] Connecting to database...
[2025-10-06T07:24:04.093Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:24:04.099Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:24:04.100Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:24:04.529Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"476ms"}
[2025-10-06T07:24:11.723Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:24:11.723Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:24:11.728Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"apple","searchType":"product_name"}}
[2025-10-06T07:24:11.731Z] [INFO] Search request received {"query":"apple","type":"product_name","userId":"anonymous"}
[2025-10-06T07:24:11.731Z] [INFO] Starting Google AI analysis {"query":"apple","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:24:19.953Z] [INFO] Google AI analysis completed {"query":"apple","responseLength":364}
[2025-10-06T07:24:20.000Z] [INFO] Search history saved {"searchId":"68e36ea34994c9963f87834b"}
[2025-10-06T07:24:20.002Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"8274ms","responseSize":1570,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"apple\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":60,\"analysis\":\"{\\n  \\\"healthImpact\\\": \\\"positive\\\",\\n  \\\"score\\\": 98,\\n  \\\"analysis\\\": \\\"Hey there! An apple is a super popular fruit, and for good reason! It's a natural, crunchy snack that's really good for your body. Think of it as nature's candy, but without all the bad stuff. Apples are full of fiber, which is like a scrub brush for your insides, and they have important vitamins too.\",\"recommendations\":[\"Eat in normal portions\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Good for your health\",\"Contains vitamins your body needs\"],\"nutritionalFacts\":{\"calories\":\"Information not available\",\"macros\":\"Information not available\",\"keyNutrients\":[]},\"simpleSummary\":\"Basic info about apple - check the full analysis for details.\",\"isFallback\":true,\"fallbackReason\":\"Text parsing fallback used\",\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"positive\\\",\\n  \\\"score\\\": 98,\\n  \\\"analysis\\\": \\\"Hey there! An apple is a super popular fruit, and for good reason! It's a natural, crunchy snack that's really good for your body. Think of it as nature's candy, but without all the bad stuff. Apples are full of fiber, which is like a scrub brush for your insides, and they have important vitamins too.\"},\"timestamp\":\"2025-10-06T07:24:20.001Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-06T07:24:29.217Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:24:29.232Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:24:29.446Z] [INFO] Connecting to database...
[2025-10-06T07:24:29.446Z] [INFO] Connecting to database...
[2025-10-06T07:24:29.447Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:24:29.447Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:24:29.453Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:24:29.453Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:24:29.454Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:24:29.454Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:24:29.932Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"485ms"}
[2025-10-06T07:24:37.706Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:24:37.706Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:24:37.711Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"banana","searchType":"product_name"}}
[2025-10-06T07:24:37.713Z] [INFO] Search request received {"query":"banana","type":"product_name","userId":"anonymous"}
[2025-10-06T07:24:37.713Z] [INFO] Starting Google AI analysis {"query":"banana","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:24:48.773Z] [INFO] Google AI analysis completed {"query":"banana","responseLength":154}
[2025-10-06T07:24:48.819Z] [INFO] Search history saved {"searchId":"68e36ec00649d85035d801e2"}
[2025-10-06T07:24:48.820Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"11109ms","responseSize":1128,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"banana\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"neutral\",\"score\":60,\"analysis\":\"{\\n  \\\"healthImpact\\\": \\\"positive\\\",\\n  \\\"score\\\": 92,\\n  \\\"analysis\\\": \\\"Hey there! A banana is that super popular yellow fruit you see everywhere. It's like nature'\",\"recommendations\":[\"Eat in normal portions\",\"Balance with other healthy foods\"],\"warnings\":[],\"benefits\":[\"Contains nutrients your body needs\"],\"nutritionalFacts\":{\"calories\":\"Information not available\",\"macros\":\"Information not available\",\"keyNutrients\":[]},\"simpleSummary\":\"Basic info about banana - check the full analysis for details.\",\"isFallback\":true,\"fallbackReason\":\"Text parsing fallback used\",\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"positive\\\",\\n  \\\"score\\\": 92,\\n  \\\"analysis\\\": \\\"Hey there! A banana is that super popular yellow fruit you see everywhere. It's like nature'\"},\"timestamp\":\"2025-10-06T07:24:48.819Z\",\"isPersonalized\":false,\"isFallback\":true}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-06T07:24:53.022Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:24:53.051Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:24:53.247Z] [INFO] Connecting to database...
[2025-10-06T07:24:53.247Z] [INFO] Connecting to database...
[2025-10-06T07:24:53.247Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:24:53.247Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:24:53.253Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:24:53.253Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:24:53.254Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:24:53.255Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:24:53.716Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"469ms"}
[2025-10-06T07:25:02.582Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:25:02.641Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:25:02.714Z] [INFO] Connecting to database...
[2025-10-06T07:25:02.714Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:25:02.720Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:25:02.721Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:25:02.765Z] [INFO] Connecting to database...
[2025-10-06T07:25:02.766Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:25:02.771Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:25:02.773Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:25:03.418Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"704ms"}
[2025-10-06T07:25:12.447Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:25:12.447Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:25:12.452Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"orange","searchType":"product_name"}}
[2025-10-06T07:25:12.454Z] [INFO] Search request received {"query":"orange","type":"product_name","userId":"anonymous"}
[2025-10-06T07:25:12.454Z] [INFO] Starting Google AI analysis {"query":"orange","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:25:25.025Z] [INFO] Google AI analysis completed {"query":"orange","responseLength":1417}
[2025-10-06T07:25:25.075Z] [INFO] Search history saved {"searchId":"68e36ee5d8ee214c0a49dbe4"}
[2025-10-06T07:25:25.077Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"12625ms","responseSize":3277,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"orange\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"positive\",\"score\":95,\"analysis\":\"Hey there! An orange is a super common and yummy citrus fruit, famous for its bright color and juicy insides. Eating an orange is like giving your body a little boost, especially because it's loaded with good things that help you stay healthy and feel good. It's a natural treat that's easy to grab and enjoy, and it's full of natural goodness without any added junk.\",\"recommendations\":[\"Great choice for a healthy snack anytime.\",\"Enjoy it fresh and whole to get all its goodness, including the fiber.\",\"Add slices to your water for a refreshing twist.\"],\"warnings\":[],\"benefits\":[\"Helps your body fight off colds and sickness (thanks to Vitamin C).\",\"Good for your skin, helping it look bright and healthy.\",\"Helps your tummy work well and keeps you feeling full (because of fiber).\",\"Gives you natural energy to keep you going.\"],\"nutritionalFacts\":{\"calories\":\"About 60-70 energy units for one medium orange.\",\"macros\":\"Mostly natural fruit sugars (carbs) that give you quick energy, with a tiny bit of protein and hardly any fat.\",\"keyNutrients\":[\"Vitamin C\",\"Fiber\",\"Potassium\",\"Folate\"]},\"simpleSummary\":\"A juicy, healthy fruit packed with Vitamin C and fiber, great for boosting your immune system and giving you natural energy.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"positive\\\",\\n  \\\"score\\\": 95,\\n  \\\"analysis\\\": \\\"Hey there! An orange is a super common and yummy citrus fruit, famous for its bright color and juicy insides. Eating an orange is like giving your body a little boost, especially because it's loaded with good things that help you stay healthy and feel good. It's a natural treat that's easy to grab and enjoy, and it's full of natural goodness without any added junk.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Great choice for a healthy snack anytime.\\\",\\n    \\\"Enjoy it fresh and whole to get all its goodness, including the fiber.\\\",\\n    \\\"Add slices to your water for a refreshing twist.\\\"\\n  ],\\n  \\\"warnings\\\": [],\\n  \\\"benefits\\\": [\\n    \\\"Helps your body fight off colds and sickness (thanks to Vitamin C).\\\",\\n    \\\"Good for your skin, helping it look bright and healthy.\\\",\\n    \\\"Helps your tummy work well and keeps you feeling full (because of fiber).\\\",\\n    \\\"Gives you natural energy to keep you going.\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"About 60-70 energy units for one medium orange.\\\",\\n    \\\"macros\\\": \\\"Mostly natural fruit sugars (carbs) that give you quick energy, with a tiny bit of protein and hardly any fat.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Vitamin C\\\",\\n      \\\"Fiber\\\",\\n      \\\"Potassium\\\",\\n      \\\"Folate\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"A juicy, healthy fruit packed with Vitamin C and fiber, great for boosting your immune system and giving you natural energy.\\\"\\n}\"},\"timestamp\":\"2025-10-06T07:25:25.075Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-06T07:25:36.552Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:25:36.552Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:25:36.811Z] [INFO] Connecting to database...
[2025-10-06T07:25:36.811Z] [INFO] Connecting to database...
[2025-10-06T07:25:36.811Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:25:36.811Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:25:36.816Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:25:36.816Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:25:36.817Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:25:36.817Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:25:37.264Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"453ms"}
[2025-10-06T07:26:58.870Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:26:58.876Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:26:59.115Z] [INFO] Connecting to database...
[2025-10-06T07:26:59.115Z] [INFO] Connecting to database...
[2025-10-06T07:26:59.115Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:26:59.115Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:26:59.120Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:26:59.120Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:26:59.122Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:26:59.122Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:26:59.618Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"503ms"}
[2025-10-06T07:27:25.342Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:27:25.342Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:27:25.347Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"strawberry","searchType":"product_name"}}
[2025-10-06T07:27:25.349Z] [INFO] Search request received {"query":"strawberry","type":"product_name","userId":"anonymous"}
[2025-10-06T07:27:25.349Z] [INFO] Starting Google AI analysis {"query":"strawberry","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:27:32.579Z] [INFO] Google AI analysis completed {"query":"strawberry","responseLength":1079}
[2025-10-06T07:27:32.636Z] [INFO] Search history saved {"searchId":"68e36f64291c55f162e19ff8"}
[2025-10-06T07:27:32.637Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"7290ms","responseSize":2605,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"strawberry\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"positive\",\"score\":95,\"analysis\":\"Hey there! A strawberry is a delicious, juicy fruit that's super good for you. It's packed with vitamins and fiber, making it a fantastic choice to keep you feeling great and your body happy. Think of it as a little burst of health in every bite!\",\"recommendations\":[\"Great choice for a healthy snack\",\"Add them to your breakfast cereal or yogurt\",\"Enjoy them fresh, frozen, or in a smoothie\"],\"warnings\":[],\"benefits\":[\"Good for your immune system\",\"Helps keep you feeling full\",\"Good for your skin\",\"Provides natural energy\"],\"nutritionalFacts\":{\"calories\":\"Very few calories, making them a light and refreshing choice.\",\"macros\":\"Mostly natural sugars and lots of fiber, with almost no fat.\",\"keyNutrients\":[\"Vitamin C\",\"Fiber\",\"Manganese\",\"Antioxidants\"]},\"simpleSummary\":\"Strawberries are a delightful, low-calorie fruit bursting with vitamins and fiber, making them an excellent healthy treat.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"positive\\\",\\n  \\\"score\\\": 95,\\n  \\\"analysis\\\": \\\"Hey there! A strawberry is a delicious, juicy fruit that's super good for you. It's packed with vitamins and fiber, making it a fantastic choice to keep you feeling great and your body happy. Think of it as a little burst of health in every bite!\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Great choice for a healthy snack\\\",\\n    \\\"Add them to your breakfast cereal or yogurt\\\",\\n    \\\"Enjoy them fresh, frozen, or in a smoothie\\\"\\n  ],\\n  \\\"warnings\\\": [],\\n  \\\"benefits\\\": [\\n    \\\"Good for your immune system\\\",\\n    \\\"Helps keep you feeling full\\\",\\n    \\\"Good for your skin\\\",\\n    \\\"Provides natural energy\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"Very few calories, making them a light and refreshing choice.\\\",\\n    \\\"macros\\\": \\\"Mostly natural sugars and lots of fiber, with almost no fat.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Vitamin C\\\",\\n      \\\"Fiber\\\",\\n      \\\"Manganese\\\",\\n      \\\"Antioxidants\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Strawberries are a delightful, low-calorie fruit bursting with vitamins and fiber, making them an excellent healthy treat.\\\"\\n}\"},\"timestamp\":\"2025-10-06T07:27:32.636Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-06T07:27:39.546Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:27:39.546Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:27:39.546Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"chocolate","searchType":"product_name"}}
[2025-10-06T07:27:39.547Z] [INFO] Search request received {"query":"chocolate","type":"product_name","userId":"anonymous"}
[2025-10-06T07:27:39.547Z] [INFO] Starting Google AI analysis {"query":"chocolate","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:27:55.999Z] [INFO] Google AI analysis completed {"query":"chocolate","responseLength":1508}
[2025-10-06T07:27:56.041Z] [INFO] Search history saved {"searchId":"68e36f7b291c55f162e19ffa"}
[2025-10-06T07:27:56.041Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"16495ms","responseSize":3476,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"chocolate\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"caution\",\"score\":55,\"analysis\":\"Hey friend! Chocolate is that delicious treat we all love, made from cocoa beans. While dark chocolate can offer some good things for your body, most types are also packed with sugar and unhealthy fats, so it's best enjoyed as a small treat rather than an everyday staple.\",\"recommendations\":[\"Enjoy in small portions.\",\"Choose dark chocolate (70% cocoa or higher) more often for extra goodness.\",\"Pair it with fruit for a balanced snack.\"],\"warnings\":[\"Often high in sugar.\",\"Can be high in unhealthy fats.\",\"Contains caffeine, which might keep some people awake if eaten too late.\",\"May contain common allergens like milk or nuts.\"],\"benefits\":[\"Gives you a quick energy boost and can make you feel good.\",\"Dark chocolate has natural compounds that are good for your body, like antioxidants.\",\"Can help improve your mood.\"],\"nutritionalFacts\":{\"calories\":\"A small piece or bar can have anywhere from 150 to 250 energy units.\",\"macros\":\"Mostly sugar and fat, with a little bit of protein and some fiber, especially in darker types.\",\"keyNutrients\":[\"Iron\",\"Magnesium\",\"Copper\",\"Fiber (in dark chocolate)\"]},\"simpleSummary\":\"Chocolate is a yummy treat that can lift your spirits and offer some good things, especially dark varieties, but it's important to enjoy it in small amounts because of its sugar and fat.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"caution\\\",\\n  \\\"score\\\": 55,\\n  \\\"analysis\\\": \\\"Hey friend! Chocolate is that delicious treat we all love, made from cocoa beans. While dark chocolate can offer some good things for your body, most types are also packed with sugar and unhealthy fats, so it's best enjoyed as a small treat rather than an everyday staple.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy in small portions.\\\",\\n    \\\"Choose dark chocolate (70% cocoa or higher) more often for extra goodness.\\\",\\n    \\\"Pair it with fruit for a balanced snack.\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Often high in sugar.\\\",\\n    \\\"Can be high in unhealthy fats.\\\",\\n    \\\"Contains caffeine, which might keep some people awake if eaten too late.\\\",\\n    \\\"May contain common allergens like milk or nuts.\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Gives you a quick energy boost and can make you feel good.\\\",\\n    \\\"Dark chocolate has natural compounds that are good for your body, like antioxidants.\\\",\\n    \\\"Can help improve your mood.\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"A small piece or bar can have anywhere from 150 to 250 energy units.\\\",\\n    \\\"macros\\\": \\\"Mostly sugar and fat, with a little bit of protein and some fiber, especially in darker types.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Iron\\\",\\n      \\\"Magnesium\\\",\\n      \\\"Copper\\\",\\n      \\\"Fiber (in dark chocolate)\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Chocolate is a yummy treat that can lift your spirits and offer some good things, especially dark varieties, but it's important to enjoy it in small amounts because of its sugar and fat.\\\"\\n}\"},\"timestamp\":\"2025-10-06T07:27:56.041Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-06T07:28:12.955Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:28:12.960Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:28:13.218Z] [INFO] Connecting to database...
[2025-10-06T07:28:13.218Z] [INFO] Connecting to database...
[2025-10-06T07:28:13.218Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:28:13.218Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:28:13.223Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:28:13.223Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:28:13.224Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:28:13.224Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:28:13.709Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"491ms"}
[2025-10-06T07:29:58.979Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:29:59.199Z] [INFO] Connecting to database...
[2025-10-06T07:29:59.200Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:29:59.204Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:29:59.206Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:286:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T07:30:29.940Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:30:30.138Z] [INFO] Connecting to database...
[2025-10-06T07:30:30.138Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:30:30.143Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:30:30.145Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:30:30.688Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"550ms"}
[2025-10-06T07:30:33.324Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:30:33.324Z] [DEBUG] Incoming request {"method":"GET","url":"/health","query":{},"params":{},"headers":{"authorization":"none","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-06T07:30:33.324Z] [INFO] Health check requested {"ip":"::1"}
[2025-10-06T07:30:33.325Z] [INFO] Request completed {"method":"GET","url":"/health","statusCode":200,"responseTime":"1ms","responseSize":1526,"responseBody":"{\"success\":true,\"message\":\"Server is running\",\"timestamp\":\"2025-10-06T07:30:33.324Z\",\"environment\":\"development\",\"version\":\"1.0.0\",\"uptime\":3.442533084,\"memory\":{\"rss\":108167168,\"heapTotal\":59949056,\"heapUsed\":31031576,\"external\":21889318,\"arrayBuffers\":18361290},\"endpoints\":{\"base\":\"http://localhost:3000\",\"auth\":{\"login\":\"/api/auth/login\",\"register\":\"/api/auth/register\",\"logout\":\"/api/auth/logout\",\"refresh\":\"/api/auth/refresh\",\"forgotPassword\":\"/api/auth/forgot-password\",\"resetPassword\":\"/api/auth/reset-password\",\"verifyEmail\":\"/api/auth/verify-email\"},\"profile\":{\"get\":\"/api/profile\",\"update\":\"/api/profile\",\"delete\":\"/api/profile\",\"upload\":\"/api/profile/upload\",\"preferences\":\"/api/profile/preferences\"},\"search\":{\"food\":\"/api/search/food\",\"nutrition\":\"/api/search/nutrition\",\"history\":\"/api/search/history\",\"analyze\":\"/api/search/analyze\"},\"health\":{\"check\":\"/health\",\"status\":\"/api/health/status\",\"metrics\":\"/api/health/metrics\"}},\"config\":{\"cors\":[\"http://localhost:3000\",\"http://localhost:3001\",\"http://localhost:8000\",\"http://localhost:8080\",\"http://localhost:5000\",\"http://localhost:4000\",\"http://127.0.0.1:3000\",\"http://127.0.0.1:3001\",\"http://127.0.0.1:8000\",\"http://127.0.0.1:8080\",\"http://127.0.0.1:5000\",\"http://127.0.0.1:4000\",\"file://\"],\"rateLimit\":{\"window\":\"900000\",\"max\":\"1000\"},\"database\":{\"connected\":true,\"uri\":\"configured\"}}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T07:30:41.249Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:30:41.249Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:30:41.254Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","body":{"searchQuery":"grapes","searchType":"product_name"}}
[2025-10-06T07:30:41.256Z] [INFO] Search request received {"query":"grapes","type":"product_name","userId":"anonymous"}
[2025-10-06T07:30:41.256Z] [INFO] Starting Google AI analysis {"query":"grapes","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:30:52.697Z] [INFO] Google AI analysis completed {"query":"grapes","responseLength":1171}
[2025-10-06T07:30:52.746Z] [INFO] Search history saved {"searchId":"68e3702ca7ea3ea5b95e8a04"}
[2025-10-06T07:30:52.746Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"11492ms","responseSize":2789,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"grapes\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"positive\",\"score\":88,\"analysis\":\"Grapes are those sweet, juicy little berries that make a super refreshing snack! They're mostly water and natural sugar, but they also pack a punch with good things that help protect your body and keep you feeling good.\",\"recommendations\":[\"Great choice for a healthy snack\",\"Enjoy them fresh and chilled\",\"Add them to fruit salads or yogurt for extra flavor\"],\"warnings\":[\"They contain natural sugar, so if you're watching your sugar intake, just be mindful of your portion size.\"],\"benefits\":[\"Good for your heart\",\"Helps protect your body's cells\",\"Provides some good vitamins like C and K\",\"A refreshing way to stay hydrated\"],\"nutritionalFacts\":{\"calories\":\"About 100 energy per cup (roughly 16-20 grapes)\",\"macros\":\"Mostly natural sugar (carbs) with a tiny bit of protein and almost no fat.\",\"keyNutrients\":[\"Vitamin C\",\"Vitamin K\",\"Antioxidants\",\"Fiber\"]},\"simpleSummary\":\"Grapes are a delicious, hydrating, and sweet fruit that's full of good stuff to keep your body healthy.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"positive\\\",\\n  \\\"score\\\": 88,\\n  \\\"analysis\\\": \\\"Grapes are those sweet, juicy little berries that make a super refreshing snack! They're mostly water and natural sugar, but they also pack a punch with good things that help protect your body and keep you feeling good.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Great choice for a healthy snack\\\",\\n    \\\"Enjoy them fresh and chilled\\\",\\n    \\\"Add them to fruit salads or yogurt for extra flavor\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"They contain natural sugar, so if you're watching your sugar intake, just be mindful of your portion size.\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Good for your heart\\\",\\n    \\\"Helps protect your body's cells\\\",\\n    \\\"Provides some good vitamins like C and K\\\",\\n    \\\"A refreshing way to stay hydrated\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"About 100 energy per cup (roughly 16-20 grapes)\\\",\\n    \\\"macros\\\": \\\"Mostly natural sugar (carbs) with a tiny bit of protein and almost no fat.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Vitamin C\\\",\\n      \\\"Vitamin K\\\",\\n      \\\"Antioxidants\\\",\\n      \\\"Fiber\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Grapes are a delicious, hydrating, and sweet fruit that's full of good stuff to keep your body healthy.\\\"\\n}\"},\"timestamp\":\"2025-10-06T07:30:52.746Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36","ip":"::1"}
[2025-10-06T07:31:00.462Z] [INFO] SIGTERM received. Shutting down gracefully...
[2025-10-06T07:31:00.462Z] [INFO] Process terminated
[2025-10-06T07:47:58.811Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:47:59.021Z] [INFO] Connecting to database...
[2025-10-06T07:47:59.021Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:47:59.027Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:47:59.029Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:47:59.487Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"466ms"}
[2025-10-06T07:48:26.265Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:48:26.266Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:48:26.270Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T07:48:26.271Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T07:48:26.285Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T07:48:26.289Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-06T07:48:26.289Z] [INFO] Starting Google AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T07:48:38.072Z] [INFO] Google AI analysis completed {"query":"coke","responseLength":1213}
[2025-10-06T07:48:38.119Z] [INFO] Search history saved {"searchId":"68e374561b9d06196ce1bbb7"}
[2025-10-06T07:48:38.120Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"11836ms","responseSize":2862,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"negative\",\"score\":20,\"analysis\":\"Hey there! Coke is a very popular fizzy drink, mostly made of water, a lot of sugar, and some flavoring. While it tastes refreshing and gives you a quick energy rush, it doesn't really offer your body any good stuff like vitamins or minerals. Drinking too much can be bad for your health over time.\",\"recommendations\":[\"Enjoy it only once in a while as a special treat\",\"Choose water, unsweetened tea, or sparkling water instead for your daily drinks\",\"If you do have one, try a smaller portion\"],\"warnings\":[\"Very high in sugar\",\"Can lead to weight gain if consumed often\",\"Bad for your teeth\",\"Contains no essential nutrients\"],\"benefits\":[\"Provides a temporary energy boost (from the sugar)\"],\"nutritionalFacts\":{\"calories\":\"About 140 energy per standard can (12 oz)\",\"macros\":\"Almost entirely sugar (carbohydrates), with no protein or fat.\",\"keyNutrients\":[\"None of the good stuff like vitamins or minerals\"]},\"simpleSummary\":\"Coke is a sugary drink that gives you a quick energy boost but offers no real nutrition and is best enjoyed rarely.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 20,\\n  \\\"analysis\\\": \\\"Hey there! Coke is a very popular fizzy drink, mostly made of water, a lot of sugar, and some flavoring. While it tastes refreshing and gives you a quick energy rush, it doesn't really offer your body any good stuff like vitamins or minerals. Drinking too much can be bad for your health over time.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy it only once in a while as a special treat\\\",\\n    \\\"Choose water, unsweetened tea, or sparkling water instead for your daily drinks\\\",\\n    \\\"If you do have one, try a smaller portion\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Very high in sugar\\\",\\n    \\\"Can lead to weight gain if consumed often\\\",\\n    \\\"Bad for your teeth\\\",\\n    \\\"Contains no essential nutrients\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Provides a temporary energy boost (from the sugar)\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"About 140 energy per standard can (12 oz)\\\",\\n    \\\"macros\\\": \\\"Almost entirely sugar (carbohydrates), with no protein or fat.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"None of the good stuff like vitamins or minerals\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Coke is a sugary drink that gives you a quick energy boost but offers no real nutrition and is best enjoyed rarely.\\\"\\n}\"},\"timestamp\":\"2025-10-06T07:48:38.119Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T07:52:22.464Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:52:22.698Z] [INFO] Connecting to database...
[2025-10-06T07:52:22.698Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:52:22.705Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:52:22.706Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:52:23.199Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"501ms"}
[2025-10-06T07:53:48.772Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:53:48.998Z] [INFO] Connecting to database...
[2025-10-06T07:53:48.998Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T07:53:49.003Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T07:53:49.005Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T07:53:49.579Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"581ms"}
[2025-10-06T07:56:20.097Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:56:25.345Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:57:15.024Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T07:57:22.147Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T08:01:04.091Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T08:01:15.402Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T08:07:53.265Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T08:08:16.276Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T08:08:32.244Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T08:08:32.244Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T08:08:32.544Z] [INFO] Connecting to database...
[2025-10-06T08:08:32.544Z] [INFO] Connecting to database...
[2025-10-06T08:08:32.545Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T08:08:32.545Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T08:08:32.553Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T08:08:32.553Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T08:08:32.555Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T08:08:32.556Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:288:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T08:08:33.006Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"461ms"}
[2025-10-06T08:08:37.143Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T08:08:37.256Z] [INFO] Connecting to database...
[2025-10-06T08:08:37.256Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T08:08:37.261Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T08:08:37.263Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:288:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T08:08:43.774Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:08:43.775Z] [DEBUG] Incoming request {"method":"GET","url":"/health","query":{},"params":{},"headers":{"authorization":"none","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-06T08:08:43.776Z] [INFO] Health check requested {"ip":"::1"}
[2025-10-06T08:08:43.777Z] [INFO] Request completed {"method":"GET","url":"/health","statusCode":200,"responseTime":"2ms","responseSize":1527,"responseBody":"{\"success\":true,\"message\":\"Server is running\",\"timestamp\":\"2025-10-06T08:08:43.776Z\",\"environment\":\"development\",\"version\":\"1.0.0\",\"uptime\":11.651268041,\"memory\":{\"rss\":109838336,\"heapTotal\":60473344,\"heapUsed\":32996624,\"external\":21946515,\"arrayBuffers\":18401467},\"endpoints\":{\"base\":\"http://localhost:3000\",\"auth\":{\"login\":\"/api/auth/login\",\"register\":\"/api/auth/register\",\"logout\":\"/api/auth/logout\",\"refresh\":\"/api/auth/refresh\",\"forgotPassword\":\"/api/auth/forgot-password\",\"resetPassword\":\"/api/auth/reset-password\",\"verifyEmail\":\"/api/auth/verify-email\"},\"profile\":{\"get\":\"/api/profile\",\"update\":\"/api/profile\",\"delete\":\"/api/profile\",\"upload\":\"/api/profile/upload\",\"preferences\":\"/api/profile/preferences\"},\"search\":{\"food\":\"/api/search/food\",\"nutrition\":\"/api/search/nutrition\",\"history\":\"/api/search/history\",\"analyze\":\"/api/search/analyze\"},\"health\":{\"check\":\"/health\",\"status\":\"/api/health/status\",\"metrics\":\"/api/health/metrics\"}},\"config\":{\"cors\":[\"http://localhost:3000\",\"http://localhost:3001\",\"http://localhost:8000\",\"http://localhost:8080\",\"http://localhost:5000\",\"http://localhost:4000\",\"http://127.0.0.1:3000\",\"http://127.0.0.1:3001\",\"http://127.0.0.1:8000\",\"http://127.0.0.1:8080\",\"http://127.0.0.1:5000\",\"http://127.0.0.1:4000\",\"file://\"],\"rateLimit\":{\"window\":\"900000\",\"max\":\"1000\"},\"database\":{\"connected\":true,\"uri\":\"configured\"}}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T08:08:47.823Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:08:47.823Z] [DEBUG] Incoming request {"method":"GET","url":"/api/profile/health","query":{},"params":{},"headers":{"authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-06T08:08:47.824Z] [ERROR] undefined {"error":"jwt malformed","token":"invalid_token..."}
[2025-10-06T08:08:47.824Z] [INFO] Request completed {"method":"GET","url":"/","statusCode":401,"responseTime":"1ms","responseSize":83,"responseBody":"{\"success\":false,\"message\":\"Token is not valid\",\"error\":\"UNAUTHORIZED\"}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T08:08:51.701Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:08:51.706Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1","body":{"username":"testuser","email":"test@example.com","password":"Test123!"}}
[2025-10-06T08:08:51.708Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"$or":[{"email":"test@example.com"},{"username":"testuser"}]},"options":{}}
[2025-10-06T08:08:51.743Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"35ms"}
[2025-10-06T08:08:51.994Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":201,"responseTime":"288ms","responseSize":355,"responseBody":"{\"success\":true,\"message\":\"User registered successfully\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZTM3OTEzNzkzOTIyMjZjMjUwMGZlNCIsImlhdCI6MTc1OTczODEzMSwiZXhwIjoxNzYwMzQyOTMxfQ.s4w7bN1n7Hpu0S5IkjUobkEMnHWo9HuZm1UaRf7-c7c\",\"user\":{\"id\":\"68e3791379392226c2500fe4\",\"username\":\"testuser\",\"email\":\"test@example.com\"}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T08:08:55.915Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:08:55.915Z] [DEBUG] Incoming request {"method":"GET","url":"/api/profile/health","query":{},"params":{},"headers":{"authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-06T08:08:55.916Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T08:08:55.948Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"32ms"}
[2025-10-06T08:08:55.948Z] [INFO] Health profile retrieval requested {"userId":"68e3791379392226c2500fe4"}
[2025-10-06T08:08:55.948Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T08:08:55.979Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"31ms"}
[2025-10-06T08:08:55.979Z] [INFO] Request completed {"method":"GET","url":"/","statusCode":404,"responseTime":"64ms","responseSize":94,"responseBody":"{\"success\":false,\"message\":\"Health profile not found\",\"error\":\"PROFILE_NOT_FOUND\"}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T08:09:02.740Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:09:02.741Z] [DEBUG] Incoming request {"method":"POST","url":"/api/profile/health","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1","body":{"healthConditions":{"diabetes":{"type":"type2","severity":"moderate","diagnosedDate":"2023-01-15"}},"allergies":{"food":[{"allergen":"peanuts","severity":"severe","reaction":"anaphylaxis"}]},"healthGoals":{"weightManagement":{"goal":"lose","targetWeight":150,"currentWeight":165}}}}
[2025-10-06T08:09:02.741Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T08:09:02.773Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"32ms"}
[2025-10-06T08:09:02.773Z] [INFO] Health profile request received {"userId":"68e3791379392226c2500fe4","hasHealthConditions":true,"hasAllergies":true,"hasHealthGoals":true}
[2025-10-06T08:09:02.773Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T08:09:02.803Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"30ms"}
[2025-10-06T08:09:02.842Z] [INFO] Health profile created {"userId":"68e3791379392226c2500fe4","profileId":"68e3791e79392226c2500fea","version":1}
[2025-10-06T08:09:02.843Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":201,"responseTime":"102ms","responseSize":1489,"responseBody":"{\"success\":true,\"message\":\"Health profile created successfully\",\"profile\":{\"userId\":\"68e3791379392226c2500fe4\",\"healthConditions\":{\"diabetes\":{\"type\":\"type2\",\"severity\":\"moderate\",\"diagnosedDate\":\"2023-01-15T00:00:00.000Z\",\"medications\":[]},\"hypertension\":{\"severity\":null,\"medications\":[]},\"heartDisease\":{\"type\":null,\"severity\":null},\"kidneyDisease\":{\"stage\":null,\"dialysis\":false},\"digestiveIssues\":{\"ibs\":false,\"crohns\":false,\"colitis\":false,\"celiac\":false,\"lactoseIntolerant\":false},\"autoimmune\":{\"rheumatoidArthritis\":false,\"lupus\":false,\"hashimotos\":false,\"graves\":false}},\"allergies\":{\"food\":[{\"allergen\":\"peanuts\",\"severity\":\"severe\",\"reaction\":\"anaphylaxis\",\"_id\":\"68e3791e79392226c2500feb\"}],\"medication\":[]},\"dietaryRestrictions\":{\"religious\":{\"halal\":false,\"kosher\":false,\"hindu\":false},\"vegetarian\":false,\"vegan\":false,\"keto\":false,\"paleo\":false,\"lowCarb\":false,\"lowSodium\":false,\"lowSugar\":false,\"glutenFree\":false,\"dairyFree\":false},\"healthGoals\":{\"weightManagement\":{\"goal\":\"lose\",\"targetWeight\":150,\"currentWeight\":165}},\"activityLevel\":{\"exerciseType\":[],\"injuries\":[]},\"preferences\":{\"accessibility\":{\"groceryStores\":[]},\"cuisine\":[]},\"version\":1,\"_id\":\"68e3791e79392226c2500fea\",\"medications\":[],\"supplements\":[],\"createdAt\":\"2025-10-06T08:09:02.806Z\",\"updatedAt\":\"2025-10-06T08:09:02.807Z\",\"__v\":0}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T08:09:07.194Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:09:07.194Z] [DEBUG] Incoming request {"method":"GET","url":"/api/profile/health","query":{},"params":{},"headers":{"authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-06T08:09:07.195Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T08:09:07.225Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"30ms"}
[2025-10-06T08:09:07.225Z] [INFO] Health profile retrieval requested {"userId":"68e3791379392226c2500fe4"}
[2025-10-06T08:09:07.225Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T08:09:07.255Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"30ms"}
[2025-10-06T08:09:07.255Z] [INFO] Health profile retrieved {"userId":"68e3791379392226c2500fe4","profileId":"68e3791e79392226c2500fea","version":1}
[2025-10-06T08:09:07.256Z] [INFO] Request completed {"method":"GET","url":"/","statusCode":200,"responseTime":"62ms","responseSize":1491,"responseBody":"{\"success\":true,\"message\":\"Health profile retrieved successfully\",\"profile\":{\"healthConditions\":{\"diabetes\":{\"type\":\"type2\",\"severity\":\"moderate\",\"diagnosedDate\":\"2023-01-15T00:00:00.000Z\",\"medications\":[]},\"hypertension\":{\"severity\":null,\"medications\":[]},\"heartDisease\":{\"type\":null,\"severity\":null},\"kidneyDisease\":{\"stage\":null,\"dialysis\":false},\"digestiveIssues\":{\"ibs\":false,\"crohns\":false,\"colitis\":false,\"celiac\":false,\"lactoseIntolerant\":false},\"autoimmune\":{\"rheumatoidArthritis\":false,\"lupus\":false,\"hashimotos\":false,\"graves\":false}},\"allergies\":{\"food\":[{\"allergen\":\"peanuts\",\"severity\":\"severe\",\"reaction\":\"anaphylaxis\",\"_id\":\"68e3791e79392226c2500feb\"}],\"medication\":[]},\"dietaryRestrictions\":{\"religious\":{\"halal\":false,\"kosher\":false,\"hindu\":false},\"vegetarian\":false,\"vegan\":false,\"keto\":false,\"paleo\":false,\"lowCarb\":false,\"lowSodium\":false,\"lowSugar\":false,\"glutenFree\":false,\"dairyFree\":false},\"healthGoals\":{\"weightManagement\":{\"goal\":\"lose\",\"targetWeight\":150,\"currentWeight\":165}},\"activityLevel\":{\"exerciseType\":[],\"injuries\":[]},\"preferences\":{\"accessibility\":{\"groceryStores\":[]},\"cuisine\":[]},\"_id\":\"68e3791e79392226c2500fea\",\"userId\":\"68e3791379392226c2500fe4\",\"version\":1,\"medications\":[],\"supplements\":[],\"createdAt\":\"2025-10-06T08:09:02.806Z\",\"updatedAt\":\"2025-10-06T08:09:02.807Z\",\"__v\":0}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T08:09:12.326Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:09:12.327Z] [DEBUG] Incoming request {"method":"GET","url":"/api/profile/health/summary","query":{},"params":{},"headers":{"authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-06T08:09:12.327Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T08:09:12.358Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"31ms"}
[2025-10-06T08:09:12.358Z] [INFO] Health profile summary requested {"userId":"68e3791379392226c2500fe4"}
[2025-10-06T08:09:12.358Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T08:09:12.390Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"32ms"}
[2025-10-06T08:09:12.391Z] [INFO] Health profile summary created {"userId":"68e3791379392226c2500fe4","summaryKeys":["conditions","allergies","restrictions","goals","medications","activityLevel"],"conditionsCount":1,"allergiesCount":1,"restrictionsCount":0}
[2025-10-06T08:09:12.391Z] [INFO] Request completed {"method":"GET","url":"/summary","statusCode":200,"responseTime":"65ms","responseSize":264,"responseBody":"{\"success\":true,\"message\":\"Health profile summary retrieved successfully\",\"summary\":{\"conditions\":[\"diabetes_type2\"],\"allergies\":[\"peanuts_severe\"],\"restrictions\":[],\"goals\":[\"weight_lose\"],\"medications\":[],\"activityLevel\":\"unknown\"}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T08:09:18.624Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:09:18.624Z] [DEBUG] Incoming request {"method":"PUT","url":"/api/profile/health","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1","body":{"healthGoals":{"weightManagement":{"goal":"maintain","targetWeight":150,"currentWeight":150}},"activityLevel":{"current":"moderately_active","exerciseFrequency":"3-4","exerciseType":["cardio","strength"]}}}
[2025-10-06T08:09:18.625Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T08:09:18.656Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"31ms"}
[2025-10-06T08:09:18.656Z] [INFO] Health profile update requested {"userId":"68e3791379392226c2500fe4","updateFields":["healthGoals","activityLevel"]}
[2025-10-06T08:09:18.656Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T08:09:18.687Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"31ms"}
[2025-10-06T08:09:18.722Z] [INFO] Health profile updated {"userId":"68e3791379392226c2500fe4","profileId":"68e3791e79392226c2500fea","version":2,"updatedFields":["healthGoals","activityLevel"]}
[2025-10-06T08:09:18.722Z] [INFO] Request completed {"method":"PUT","url":"/","statusCode":200,"responseTime":"98ms","responseSize":1564,"responseBody":"{\"success\":true,\"message\":\"Health profile updated successfully\",\"profile\":{\"healthConditions\":{\"diabetes\":{\"type\":\"type2\",\"severity\":\"moderate\",\"diagnosedDate\":\"2023-01-15T00:00:00.000Z\",\"medications\":[]},\"hypertension\":{\"severity\":null,\"medications\":[]},\"heartDisease\":{\"type\":null,\"severity\":null},\"kidneyDisease\":{\"stage\":null,\"dialysis\":false},\"digestiveIssues\":{\"ibs\":false,\"crohns\":false,\"colitis\":false,\"celiac\":false,\"lactoseIntolerant\":false},\"autoimmune\":{\"rheumatoidArthritis\":false,\"lupus\":false,\"hashimotos\":false,\"graves\":false}},\"allergies\":{\"food\":[{\"allergen\":\"peanuts\",\"severity\":\"severe\",\"reaction\":\"anaphylaxis\",\"_id\":\"68e3791e79392226c2500feb\"}],\"medication\":[]},\"dietaryRestrictions\":{\"religious\":{\"halal\":false,\"kosher\":false,\"hindu\":false},\"vegetarian\":false,\"vegan\":false,\"keto\":false,\"paleo\":false,\"lowCarb\":false,\"lowSodium\":false,\"lowSugar\":false,\"glutenFree\":false,\"dairyFree\":false},\"healthGoals\":{\"weightManagement\":{\"goal\":\"maintain\",\"targetWeight\":150,\"currentWeight\":150}},\"activityLevel\":{\"current\":\"moderately_active\",\"exerciseFrequency\":\"3-4\",\"exerciseType\":[\"cardio\",\"strength\"]},\"preferences\":{\"accessibility\":{\"groceryStores\":[]},\"cuisine\":[]},\"_id\":\"68e3791e79392226c2500fea\",\"userId\":\"68e3791379392226c2500fe4\",\"version\":2,\"medications\":[],\"supplements\":[],\"createdAt\":\"2025-10-06T08:09:02.806Z\",\"updatedAt\":\"2025-10-06T08:09:18.688Z\",\"__v\":0}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T08:09:28.205Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T08:09:28.210Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T08:09:28.448Z] [INFO] Connecting to database...
[2025-10-06T08:09:28.448Z] [INFO] Connecting to database...
[2025-10-06T08:09:28.449Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T08:09:28.449Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T08:09:28.454Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T08:09:28.454Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T08:09:28.456Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T08:09:28.456Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:288:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-10-06T08:09:28.949Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"500ms"}
[2025-10-06T08:09:44.636Z] [INFO] SIGTERM received. Shutting down gracefully...
[2025-10-06T08:09:44.636Z] [INFO] Process terminated
[2025-10-06T08:09:56.652Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T08:09:56.810Z] [INFO] Connecting to database...
[2025-10-06T08:09:56.811Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T08:09:56.816Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T08:09:56.818Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T08:09:57.265Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"454ms"}
[2025-10-06T08:10:08.143Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:10:08.144Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:10:08.146Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:10:08.147Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:10:08.152Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T08:10:08.164Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-06T08:10:08.164Z] [INFO] Starting Google AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T08:10:19.983Z] [INFO] Google AI analysis completed {"query":"coke","responseLength":1032}
[2025-10-06T08:10:20.037Z] [INFO] Search history saved {"searchId":"68e3796b07c38b6d95751c27"}
[2025-10-06T08:10:20.038Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"11886ms","responseSize":2496,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"negative\",\"score\":15,\"analysis\":\"Hey there! So, Coke is that super popular fizzy drink we all know, packed with sugar and a little caffeine. While it might give you a quick energy boost and taste great, it doesn't offer your body any good stuff like vitamins or fiber, and drinking too much can be bad for your health.\",\"recommendations\":[\"Enjoy it rarely as a treat\",\"Choose water or unsweetened drinks most of the time\",\"Have a smaller portion if you do drink it\"],\"warnings\":[\"Very high in sugar\",\"Can lead to weight gain if you drink too much\",\"Not good for your teeth\",\"No essential nutrients\"],\"benefits\":[],\"nutritionalFacts\":{\"calories\":\"About 140 energy per regular can.\",\"macros\":\"Almost all sugar, which is a type of carb, with no protein or fat.\",\"keyNutrients\":[]},\"simpleSummary\":\"Coke is a sugary, fizzy drink that gives a quick energy boost but lacks nutrients and is best enjoyed only once in a while.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Hey there! So, Coke is that super popular fizzy drink we all know, packed with sugar and a little caffeine. While it might give you a quick energy boost and taste great, it doesn't offer your body any good stuff like vitamins or fiber, and drinking too much can be bad for your health.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy it rarely as a treat\\\",\\n    \\\"Choose water or unsweetened drinks most of the time\\\",\\n    \\\"Have a smaller portion if you do drink it\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Very high in sugar\\\",\\n    \\\"Can lead to weight gain if you drink too much\\\",\\n    \\\"Not good for your teeth\\\",\\n    \\\"No essential nutrients\\\"\\n  ],\\n  \\\"benefits\\\": [],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"About 140 energy per regular can.\\\",\\n    \\\"macros\\\": \\\"Almost all sugar, which is a type of carb, with no protein or fat.\\\",\\n    \\\"keyNutrients\\\": []\\n  },\\n  \\\"simpleSummary\\\": \\\"Coke is a sugary, fizzy drink that gives a quick energy boost but lacks nutrients and is best enjoyed only once in a while.\\\"\\n}\"},\"timestamp\":\"2025-10-06T08:10:20.037Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T08:18:31.016Z] [WARN] Database disconnected
[2025-10-06T08:18:31.089Z] [INFO] Database reconnected
[2025-10-06T08:45:45.028Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:45:45.030Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:45:45.032Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:45:45.033Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:45:45.033Z] [DEBUG] Incoming request {"method":"GET","url":"/api/profile/health","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
[2025-10-06T08:45:45.041Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T08:45:45.383Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"342ms"}
[2025-10-06T08:45:45.384Z] [INFO] Health profile retrieval requested {"userId":"68e2dd3bcdabcf575e260591"}
[2025-10-06T08:45:45.384Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T08:45:45.421Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"37ms"}
[2025-10-06T08:45:45.422Z] [INFO] Request completed {"method":"GET","url":"/","statusCode":404,"responseTime":"389ms","responseSize":94,"responseBody":"{\"success\":false,\"message\":\"Health profile not found\",\"error\":\"PROFILE_NOT_FOUND\"}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T08:45:50.314Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:45:50.315Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:45:50.316Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:45:50.317Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:45:50.318Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"email":"vipankverma12345678909876@gmail.com","password":"Vips$cool03","rememberMe":false}}
[2025-10-06T08:45:50.320Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipankverma12345678909876@gmail.com"},"options":{}}
[2025-10-06T08:45:50.356Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"36ms"}
[2025-10-06T08:45:50.658Z] [INFO] Request completed {"method":"POST","url":"/login","statusCode":200,"responseTime":"340ms","responseSize":408,"responseBody":"{\"success\":true,\"message\":\"Login successful\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZTJkZDNiY2RhYmNmNTc1ZTI2MDU5MSIsImlhdCI6MTc1OTc0MDM1MCwiZXhwIjoxNzYwMzQ1MTUwfQ.hJ43zc8iQT8h4ZIfUTxpEKktifyXY8wkgHMtgJIXVhU\",\"user\":{\"id\":\"68e2dd3bcdabcf575e260591\",\"username\":\"Vipan_kumar\",\"email\":\"vipankverma12345678909876@gmail.com\",\"lastLogin\":\"2025-10-06T08:45:50.607Z\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T08:47:20.263Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:47:20.264Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:47:20.282Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:47:20.282Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:47:20.283Z] [DEBUG] Incoming request {"method":"GET","url":"/api/profile/health","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
[2025-10-06T08:47:20.286Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T08:47:20.383Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"97ms"}
[2025-10-06T08:47:20.383Z] [INFO] Health profile retrieval requested {"userId":"68e2dd3bcdabcf575e260591"}
[2025-10-06T08:47:20.383Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T08:47:20.441Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"58ms"}
[2025-10-06T08:47:20.441Z] [INFO] Request completed {"method":"GET","url":"/","statusCode":404,"responseTime":"158ms","responseSize":94,"responseBody":"{\"success\":false,\"message\":\"Health profile not found\",\"error\":\"PROFILE_NOT_FOUND\"}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T08:47:33.358Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:47:33.359Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:47:33.365Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:47:33.365Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:47:33.365Z] [DEBUG] Incoming request {"method":"GET","url":"/api/profile/health","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36"}
[2025-10-06T08:47:33.369Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T08:47:33.406Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"37ms"}
[2025-10-06T08:47:33.406Z] [INFO] Health profile retrieval requested {"userId":"68e2dd3bcdabcf575e260591"}
[2025-10-06T08:47:33.407Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T08:47:33.442Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"35ms"}
[2025-10-06T08:47:33.443Z] [INFO] Request completed {"method":"GET","url":"/","statusCode":404,"responseTime":"78ms","responseSize":94,"responseBody":"{\"success\":false,\"message\":\"Health profile not found\",\"error\":\"PROFILE_NOT_FOUND\"}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T08:48:24.917Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:48:24.919Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:48:24.921Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:48:24.921Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:48:24.922Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T08:48:24.924Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-06T08:48:24.924Z] [INFO] Starting Google AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T08:48:34.487Z] [INFO] Google AI analysis completed {"query":"coke","responseLength":1091}
[2025-10-06T08:48:34.547Z] [INFO] Search history saved {"searchId":"68e3826207c38b6d95751c31"}
[2025-10-06T08:48:34.547Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"9625ms","responseSize":2623,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"negative\",\"score\":15,\"analysis\":\"Coke is a popular fizzy drink that tastes sweet and can give you a quick burst of energy. However, it's mostly just sugar and water, so drinking too much isn't good for your body in the long run and doesn't offer any healthy stuff.\",\"recommendations\":[\"Enjoy very rarely as a treat\",\"Choose water, unsweetened tea, or sparkling water with a slice of fruit instead\",\"If you crave fizz, try diet soda occasionally, but water is always best\"],\"warnings\":[\"Very high in sugar\",\"Can lead to weight gain if consumed often\",\"Bad for your teeth\",\"Provides no essential nutrients\"],\"benefits\":[\"Can give a quick, temporary energy boost\",\"Taste is enjoyable for some people\"],\"nutritionalFacts\":{\"calories\":\"About 140 energy units per standard can (330ml)\",\"macros\":\"Almost entirely sugar (carbs), with no protein or fat.\",\"keyNutrients\":[]},\"simpleSummary\":\"Coke is a sweet, fizzy drink packed with sugar and offers no real health benefits.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Coke is a popular fizzy drink that tastes sweet and can give you a quick burst of energy. However, it's mostly just sugar and water, so drinking too much isn't good for your body in the long run and doesn't offer any healthy stuff.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy very rarely as a treat\\\",\\n    \\\"Choose water, unsweetened tea, or sparkling water with a slice of fruit instead\\\",\\n    \\\"If you crave fizz, try diet soda occasionally, but water is always best\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Very high in sugar\\\",\\n    \\\"Can lead to weight gain if consumed often\\\",\\n    \\\"Bad for your teeth\\\",\\n    \\\"Provides no essential nutrients\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Can give a quick, temporary energy boost\\\",\\n    \\\"Taste is enjoyable for some people\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"About 140 energy units per standard can (330ml)\\\",\\n    \\\"macros\\\": \\\"Almost entirely sugar (carbs), with no protein or fat.\\\",\\n    \\\"keyNutrients\\\": []\\n  },\\n  \\\"simpleSummary\\\": \\\"Coke is a sweet, fizzy drink packed with sugar and offers no real health benefits.\\\"\\n}\"},\"timestamp\":\"2025-10-06T08:48:34.547Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T08:55:00.801Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:55:00.802Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:55:00.803Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:55:00.803Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:55:00.804Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"email":"vipankverma12345678909876@gmail.com","password":"Vips$cool03","rememberMe":true}}
[2025-10-06T08:55:00.807Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipankverma12345678909876@gmail.com"},"options":{}}
[2025-10-06T08:55:00.845Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"38ms"}
[2025-10-06T08:55:01.126Z] [INFO] Request completed {"method":"POST","url":"/login","statusCode":200,"responseTime":"322ms","responseSize":408,"responseBody":"{\"success\":true,\"message\":\"Login successful\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZTJkZDNiY2RhYmNmNTc1ZTI2MDU5MSIsImlhdCI6MTc1OTc0MDkwMSwiZXhwIjoxNzYwMzQ1NzAxfQ.1rPoYpxL9bGTqHNuRlDQ1KdawDJkQ0LpaoG0aid4IRE\",\"user\":{\"id\":\"68e2dd3bcdabcf575e260591\",\"username\":\"Vipan_kumar\",\"email\":\"vipankverma12345678909876@gmail.com\",\"lastLogin\":\"2025-10-06T08:55:01.077Z\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T08:59:02.753Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:59:02.755Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:59:02.757Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T08:59:02.757Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T08:59:02.759Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"email":"vipankverma12345678909876@gmail.com","password":"Vips$cool03","rememberMe":true}}
[2025-10-06T08:59:02.764Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipankverma12345678909876@gmail.com"},"options":{}}
[2025-10-06T08:59:02.906Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"142ms"}
[2025-10-06T08:59:03.193Z] [INFO] Request completed {"method":"POST","url":"/login","statusCode":200,"responseTime":"434ms","responseSize":408,"responseBody":"{\"success\":true,\"message\":\"Login successful\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZTJkZDNiY2RhYmNmNTc1ZTI2MDU5MSIsImlhdCI6MTc1OTc0MTE0MywiZXhwIjoxNzYwMzQ1OTQzfQ.vB6gZbP4eKEJZRaxv6PQmHGU6SheyELGiMlwyybTQfc\",\"user\":{\"id\":\"68e2dd3bcdabcf575e260591\",\"username\":\"Vipan_kumar\",\"email\":\"vipankverma12345678909876@gmail.com\",\"lastLogin\":\"2025-10-06T08:59:03.129Z\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T09:01:00.673Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:01:00.673Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T09:01:00.675Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:01:00.675Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T09:01:00.676Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"email":"vipankverma12345678909876@gmail.com","password":"Vips$cool03","rememberMe":false}}
[2025-10-06T09:01:00.677Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipankverma12345678909876@gmail.com"},"options":{}}
[2025-10-06T09:01:00.707Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"30ms"}
[2025-10-06T09:01:00.971Z] [INFO] Request completed {"method":"POST","url":"/login","statusCode":200,"responseTime":"295ms","responseSize":408,"responseBody":"{\"success\":true,\"message\":\"Login successful\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZTJkZDNiY2RhYmNmNTc1ZTI2MDU5MSIsImlhdCI6MTc1OTc0MTI2MCwiZXhwIjoxNzYwMzQ2MDYwfQ.RjP4idMA0jq8AIlf_H3ukutSKAziy2xbjinf45dBgZg\",\"user\":{\"id\":\"68e2dd3bcdabcf575e260591\",\"username\":\"Vipan_kumar\",\"email\":\"vipankverma12345678909876@gmail.com\",\"lastLogin\":\"2025-10-06T09:01:00.940Z\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T09:02:25.365Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:02:25.366Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T09:02:25.370Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:02:25.371Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T09:02:25.372Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T09:02:25.373Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-06T09:02:25.374Z] [INFO] Starting Google AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T09:02:38.712Z] [INFO] Google AI analysis completed {"query":"coke","responseLength":1066}
[2025-10-06T09:02:38.757Z] [INFO] Search history saved {"searchId":"68e385ae07c38b6d95751c39"}
[2025-10-06T09:02:38.757Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"13385ms","responseSize":2564,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"negative\",\"score\":15,\"analysis\":\"Coke is a popular fizzy drink that tastes sweet and gives you a quick burst of energy. However, it's mostly just sugar and water, so it doesn't offer your body anything good and can be bad for your health if you drink it often.\",\"recommendations\":[\"Enjoy it as a very rare treat\",\"Choose water, unsweetened tea, or sparkling water with a squeeze of lemon instead\",\"If you do have some, try a smaller portion\"],\"warnings\":[\"Very high in sugar\",\"Provides 'empty energy' meaning lots of energy but no nutrients\",\"Can contribute to weight gain and tooth decay\",\"Doesn't help you feel full or hydrated effectively\"],\"benefits\":[],\"nutritionalFacts\":{\"calories\":\"About 140 energy per standard can\",\"macros\":\"Almost entirely sugar (carbs), with no protein or fat\",\"keyNutrients\":[]},\"simpleSummary\":\"Coke is a sugary drink that gives you a quick energy boost but offers no health benefits and should be enjoyed only sometimes.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Coke is a popular fizzy drink that tastes sweet and gives you a quick burst of energy. However, it's mostly just sugar and water, so it doesn't offer your body anything good and can be bad for your health if you drink it often.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy it as a very rare treat\\\",\\n    \\\"Choose water, unsweetened tea, or sparkling water with a squeeze of lemon instead\\\",\\n    \\\"If you do have some, try a smaller portion\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Very high in sugar\\\",\\n    \\\"Provides 'empty energy' meaning lots of energy but no nutrients\\\",\\n    \\\"Can contribute to weight gain and tooth decay\\\",\\n    \\\"Doesn't help you feel full or hydrated effectively\\\"\\n  ],\\n  \\\"benefits\\\": [],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"About 140 energy per standard can\\\",\\n    \\\"macros\\\": \\\"Almost entirely sugar (carbs), with no protein or fat\\\",\\n    \\\"keyNutrients\\\": []\\n  },\\n  \\\"simpleSummary\\\": \\\"Coke is a sugary drink that gives you a quick energy boost but offers no health benefits and should be enjoyed only sometimes.\\\"\\n}\"},\"timestamp\":\"2025-10-06T09:02:38.757Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T09:08:01.040Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:08:01.040Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T09:08:01.041Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:08:01.041Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T09:08:01.042Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"email":"vipankverma12345678909876@gmail.com","password":"Vips$cool03","rememberMe":true}}
[2025-10-06T09:08:01.043Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipankverma12345678909876@gmail.com"},"options":{}}
[2025-10-06T09:08:01.072Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"29ms"}
[2025-10-06T09:08:01.331Z] [INFO] Request completed {"method":"POST","url":"/login","statusCode":200,"responseTime":"289ms","responseSize":408,"responseBody":"{\"success\":true,\"message\":\"Login successful\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZTJkZDNiY2RhYmNmNTc1ZTI2MDU5MSIsImlhdCI6MTc1OTc0MTY4MSwiZXhwIjoxNzYwMzQ2NDgxfQ.vN-42qH3usVFgxHLoGaPJoEmDKJ1UCKbzjgWPPNatqM\",\"user\":{\"id\":\"68e2dd3bcdabcf575e260591\",\"username\":\"Vipan_kumar\",\"email\":\"vipankverma12345678909876@gmail.com\",\"lastLogin\":\"2025-10-06T09:08:01.287Z\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T09:12:24.498Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:12:24.498Z] [DEBUG] Incoming request {"method":"GET","url":"/health","query":{},"params":{},"headers":{"authorization":"none","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-06T09:12:24.498Z] [INFO] Health check requested {"ip":"::1"}
[2025-10-06T09:12:24.499Z] [INFO] Request completed {"method":"GET","url":"/health","statusCode":200,"responseTime":"1ms","responseSize":1528,"responseBody":"{\"success\":true,\"message\":\"Server is running\",\"timestamp\":\"2025-10-06T09:12:24.498Z\",\"environment\":\"development\",\"version\":\"1.0.0\",\"uptime\":3747.895254667,\"memory\":{\"rss\":66846720,\"heapTotal\":33472512,\"heapUsed\":31048096,\"external\":22136161,\"arrayBuffers\":18633663},\"endpoints\":{\"base\":\"http://localhost:3000\",\"auth\":{\"login\":\"/api/auth/login\",\"register\":\"/api/auth/register\",\"logout\":\"/api/auth/logout\",\"refresh\":\"/api/auth/refresh\",\"forgotPassword\":\"/api/auth/forgot-password\",\"resetPassword\":\"/api/auth/reset-password\",\"verifyEmail\":\"/api/auth/verify-email\"},\"profile\":{\"get\":\"/api/profile\",\"update\":\"/api/profile\",\"delete\":\"/api/profile\",\"upload\":\"/api/profile/upload\",\"preferences\":\"/api/profile/preferences\"},\"search\":{\"food\":\"/api/search/food\",\"nutrition\":\"/api/search/nutrition\",\"history\":\"/api/search/history\",\"analyze\":\"/api/search/analyze\"},\"health\":{\"check\":\"/health\",\"status\":\"/api/health/status\",\"metrics\":\"/api/health/metrics\"}},\"config\":{\"cors\":[\"http://localhost:3000\",\"http://localhost:3001\",\"http://localhost:8000\",\"http://localhost:8080\",\"http://localhost:5000\",\"http://localhost:4000\",\"http://127.0.0.1:3000\",\"http://127.0.0.1:3001\",\"http://127.0.0.1:8000\",\"http://127.0.0.1:8080\",\"http://127.0.0.1:5000\",\"http://127.0.0.1:4000\",\"file://\"],\"rateLimit\":{\"window\":\"900000\",\"max\":\"1000\"},\"database\":{\"connected\":true,\"uri\":\"configured\"}}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T09:12:32.662Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T09:12:32.870Z] [INFO] Connecting to database...
[2025-10-06T09:12:32.871Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T09:12:32.876Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T09:12:32.877Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T09:12:33.548Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"677ms"}
[2025-10-06T09:12:36.513Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T09:12:36.629Z] [INFO] Connecting to database...
[2025-10-06T09:12:36.630Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T09:12:36.635Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T09:12:36.636Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T09:12:37.116Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"486ms"}
[2025-10-06T09:12:47.865Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T09:12:48.056Z] [INFO] Connecting to database...
[2025-10-06T09:12:48.056Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T09:12:48.061Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T09:12:48.063Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T09:12:48.508Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"452ms"}
[2025-10-06T09:13:00.458Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T09:13:04.870Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T09:13:09.173Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T09:13:09.284Z] [INFO] Connecting to database...
[2025-10-06T09:13:09.284Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T09:13:09.289Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T09:13:09.291Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T09:13:09.767Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"483ms"}
[2025-10-06T09:42:15.934Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:42:15.940Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1","body":{"searchQuery":"apple","searchType":"product_name"}}
[2025-10-06T09:42:15.944Z] [INFO] Search request received {"query":"apple","type":"product_name","userId":"anonymous"}
[2025-10-06T09:42:15.945Z] [INFO] Starting Google AI analysis {"query":"apple","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T09:42:31.183Z] [INFO] Google AI analysis completed {"query":"apple","responseLength":1062}
[2025-10-06T09:42:31.254Z] [INFO] Search history saved {"searchId":"68e38f07ee2babc93f0317e7"}
[2025-10-06T09:42:31.256Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"15315ms","responseSize":2567,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"apple\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"positive\",\"score\":95,\"analysis\":\"An apple is a fantastic choice for a healthy snack! It's a natural fruit packed with good stuff that helps your body stay strong and happy. Eating apples regularly can contribute to a well-balanced diet and keep you feeling full and energized.\",\"recommendations\":[\"Great choice for a healthy snack\",\"Eat the skin for extra fiber\",\"Enjoy as part of a balanced meal\"],\"warnings\":[\"Always wash your apple before eating\"],\"benefits\":[\"Good for your digestion because of the fiber\",\"Helps keep you full\",\"Provides good energy\",\"Good for your immune system with Vitamin C\"],\"nutritionalFacts\":{\"calories\":\"About 95 calories for a medium apple\",\"macros\":\"Mostly carbs (natural fruit sugars and fiber) with very little protein and fat\",\"keyNutrients\":[\"Fiber\",\"Vitamin C\",\"Potassium\"]},\"simpleSummary\":\"An apple is a super healthy, natural, and easy snack that's really good for your body.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"positive\\\",\\n  \\\"score\\\": 95,\\n  \\\"analysis\\\": \\\"An apple is a fantastic choice for a healthy snack! It's a natural fruit packed with good stuff that helps your body stay strong and happy. Eating apples regularly can contribute to a well-balanced diet and keep you feeling full and energized.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Great choice for a healthy snack\\\",\\n    \\\"Eat the skin for extra fiber\\\",\\n    \\\"Enjoy as part of a balanced meal\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Always wash your apple before eating\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Good for your digestion because of the fiber\\\",\\n    \\\"Helps keep you full\\\",\\n    \\\"Provides good energy\\\",\\n    \\\"Good for your immune system with Vitamin C\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"About 95 calories for a medium apple\\\",\\n    \\\"macros\\\": \\\"Mostly carbs (natural fruit sugars and fiber) with very little protein and fat\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Fiber\\\",\\n      \\\"Vitamin C\\\",\\n      \\\"Potassium\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"An apple is a super healthy, natural, and easy snack that's really good for your body.\\\"\\n}\"},\"timestamp\":\"2025-10-06T09:42:31.255Z\",\"isPersonalized\":false,\"isFallback\":false}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T09:42:31.754Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T09:42:31.964Z] [INFO] Connecting to database...
[2025-10-06T09:42:31.964Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T09:42:31.969Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T09:42:31.971Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T09:42:32.432Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"467ms"}
[2025-10-06T09:46:06.668Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:46:06.670Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T09:46:06.673Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:46:06.674Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T09:46:06.687Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T09:46:06.692Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"anonymous"}
[2025-10-06T09:46:06.692Z] [INFO] Starting Google AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T09:46:16.584Z] [INFO] Google AI analysis completed {"query":"coke","responseLength":1166}
[2025-10-06T09:46:16.647Z] [INFO] Search history saved {"searchId":"68e38fe89556af2abb0dc325"}
[2025-10-06T09:46:16.649Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"9962ms","responseSize":2763,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"negative\",\"score\":15,\"analysis\":\"Coke is a very popular fizzy drink that's basically water, sugar, and some flavorings. While it gives you a quick burst of energy from all that sugar, it doesn't offer your body any good things like vitamins, minerals, or fiber. Drinking too much can lead to extra sugar in your diet, which isn't good for your health over time.\",\"recommendations\":[\"Drink water, unsweetened tea, or sparkling water with a slice of lemon instead\",\"Enjoy only as a very rare treat, not an everyday drink\",\"Choose smaller portions if you do decide to have one\"],\"warnings\":[\"Very high in sugar\",\"No beneficial nutrients\",\"Can contribute to weight gain and other health issues if consumed regularly\"],\"benefits\":[\"Gives a quick, temporary energy boost (from sugar)\"],\"nutritionalFacts\":{\"calories\":\"A standard can has about 140 energy units.\",\"macros\":\"Almost entirely sugar (carbohydrates), with no protein or fat.\",\"keyNutrients\":[]},\"simpleSummary\":\"Coke is a sugary drink that gives you quick energy but no good stuff for your body.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Coke is a very popular fizzy drink that's basically water, sugar, and some flavorings. While it gives you a quick burst of energy from all that sugar, it doesn't offer your body any good things like vitamins, minerals, or fiber. Drinking too much can lead to extra sugar in your diet, which isn't good for your health over time.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Drink water, unsweetened tea, or sparkling water with a slice of lemon instead\\\",\\n    \\\"Enjoy only as a very rare treat, not an everyday drink\\\",\\n    \\\"Choose smaller portions if you do decide to have one\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Very high in sugar\\\",\\n    \\\"No beneficial nutrients\\\",\\n    \\\"Can contribute to weight gain and other health issues if consumed regularly\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Gives a quick, temporary energy boost (from sugar)\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"A standard can has about 140 energy units.\\\",\\n    \\\"macros\\\": \\\"Almost entirely sugar (carbohydrates), with no protein or fat.\\\",\\n    \\\"keyNutrients\\\": []\\n  },\\n  \\\"simpleSummary\\\": \\\"Coke is a sugary drink that gives you quick energy but no good stuff for your body.\\\"\\n}\"},\"timestamp\":\"2025-10-06T09:46:16.648Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T09:47:32.186Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T09:47:32.528Z] [INFO] Connecting to database...
[2025-10-06T09:47:32.528Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T09:47:32.535Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T09:47:32.536Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T09:47:33.038Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-02.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"510ms"}
[2025-10-06T09:48:27.848Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:48:27.856Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1","body":{"searchQuery":"chocolate","searchType":"product_name"}}
[2025-10-06T09:48:27.860Z] [INFO] Search request received {"query":"chocolate","type":"product_name","userId":"anonymous"}
[2025-10-06T09:48:27.860Z] [INFO] Starting Google AI analysis {"query":"chocolate","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T09:48:38.257Z] [INFO] Google AI analysis completed {"query":"chocolate","responseLength":1329}
[2025-10-06T09:48:38.306Z] [INFO] Search history saved {"searchId":"68e3907609d58096c3987137"}
[2025-10-06T09:48:38.308Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"10452ms","responseSize":3356,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"chocolate\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"caution\",\"score\":55,\"analysis\":\"Chocolate is a delicious treat made from cocoa beans that many people love! While it can give you a nice energy boost and even has some good stuff like antioxidants, especially in darker kinds, most chocolates we eat are packed with sugar and fat.\",\"recommendations\":[\"Enjoy in small portions\",\"Choose dark chocolate (70% cocoa or more) for more benefits\",\"Pair with something healthy like fruit or nuts\"],\"warnings\":[\"High in sugar\",\"High in fat\",\"Can lead to weight gain if you eat too much\",\"Might contain caffeine\"],\"benefits\":[\"Can lift your mood\",\"Gives a quick energy boost\",\"Dark chocolate has antioxidants (good stuff that protects your body)\",\"Contains some minerals like iron and magnesium\"],\"nutritionalFacts\":{\"calories\":\"A typical bar can have a good amount of energy, sometimes 200-300 calories, depending on the size.\",\"macros\":\"Mostly sugar and fat, with a little bit of protein and fiber (especially in darker types).\",\"keyNutrients\":[\"Iron\",\"Magnesium\",\"Fiber (in dark chocolate)\"]},\"simpleSummary\":\"Chocolate is a tasty treat that's okay in moderation, but it's often high in sugar and fat, so enjoy small amounts.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"caution\\\",\\n  \\\"score\\\": 55,\\n  \\\"analysis\\\": \\\"Chocolate is a delicious treat made from cocoa beans that many people love! While it can give you a nice energy boost and even has some good stuff like antioxidants, especially in darker kinds, most chocolates we eat are packed with sugar and fat.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy in small portions\\\",\\n    \\\"Choose dark chocolate (70% cocoa or more) for more benefits\\\",\\n    \\\"Pair with something healthy like fruit or nuts\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"High in sugar\\\",\\n    \\\"High in fat\\\",\\n    \\\"Can lead to weight gain if you eat too much\\\",\\n    \\\"Might contain caffeine\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Can lift your mood\\\",\\n    \\\"Gives a quick energy boost\\\",\\n    \\\"Dark chocolate has antioxidants (good stuff that protects your body)\\\",\\n    \\\"Contains some minerals like iron and magnesium\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"A typical bar can have a good amount of energy, sometimes 200-300 calories, depending on the size.\\\",\\n    \\\"macros\\\": \\\"Mostly sugar and fat, with a little bit of protein and fiber (especially in darker types).\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Iron\\\",\\n      \\\"Magnesium\\\",\\n      \\\"Fiber (in dark chocolate)\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Chocolate is a tasty treat that's okay in moderation, but it's often high in sugar and fat, so enjoy small amounts.\\\"\\n}\"},\"personalization\":{\"hasHealthProfile\":false,\"message\":\"No health profile found. Analysis is general, not personalized.\",\"suggestion\":\"Create a health profile in your account settings for personalized food recommendations.\"},\"timestamp\":\"2025-10-06T09:48:38.306Z\",\"isPersonalized\":false,\"isFallback\":false}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T09:49:11.142Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:49:11.144Z] [DEBUG] Incoming request {"method":"GET","url":"/api/profile/health","query":{},"params":{},"headers":{"authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-06T09:49:11.151Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T09:49:11.183Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"32ms"}
[2025-10-06T09:49:11.183Z] [INFO] Health profile retrieval requested {"userId":"68e3791379392226c2500fe4"}
[2025-10-06T09:49:11.183Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T09:49:11.214Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"31ms"}
[2025-10-06T09:49:11.214Z] [INFO] Health profile retrieved {"userId":"68e3791379392226c2500fe4","profileId":"68e3791e79392226c2500fea","version":2}
[2025-10-06T09:49:11.215Z] [INFO] Request completed {"method":"GET","url":"/","statusCode":200,"responseTime":"71ms","responseSize":1582,"responseBody":"{\"success\":true,\"message\":\"Health profile retrieved successfully\",\"profile\":{\"healthConditions\":{\"diabetes\":{\"type\":\"type2\",\"severity\":\"moderate\",\"diagnosedDate\":\"2023-01-15T00:00:00.000Z\",\"medications\":[]},\"hypertension\":{\"severity\":null,\"medications\":[]},\"heartDisease\":{\"type\":null,\"severity\":null},\"kidneyDisease\":{\"stage\":null,\"dialysis\":false},\"digestiveIssues\":{\"ibs\":false,\"crohns\":false,\"colitis\":false,\"celiac\":false,\"lactoseIntolerant\":false},\"autoimmune\":{\"rheumatoidArthritis\":false,\"lupus\":false,\"hashimotos\":false,\"graves\":false}},\"allergies\":{\"food\":[{\"allergen\":\"peanuts\",\"severity\":\"severe\",\"reaction\":\"anaphylaxis\",\"_id\":\"68e3791e79392226c2500feb\"}],\"medication\":[]},\"dietaryRestrictions\":{\"religious\":{\"halal\":false,\"kosher\":false,\"hindu\":false},\"vegetarian\":false,\"vegan\":false,\"keto\":false,\"paleo\":false,\"lowCarb\":false,\"lowSodium\":false,\"lowSugar\":false,\"glutenFree\":false,\"dairyFree\":false},\"healthGoals\":{\"weightManagement\":{\"goal\":\"maintain\",\"targetWeight\":150,\"currentWeight\":150}},\"activityLevel\":{\"injuries\":[],\"current\":\"moderately_active\",\"exerciseFrequency\":\"3-4\",\"exerciseType\":[\"cardio\",\"strength\"]},\"preferences\":{\"accessibility\":{\"groceryStores\":[]},\"cuisine\":[]},\"_id\":\"68e3791e79392226c2500fea\",\"userId\":\"68e3791379392226c2500fe4\",\"version\":2,\"medications\":[],\"supplements\":[],\"createdAt\":\"2025-10-06T08:09:02.806Z\",\"updatedAt\":\"2025-10-06T08:09:18.688Z\",\"__v\":0}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T09:49:16.502Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:49:16.503Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1","body":{"searchQuery":"chocolate","searchType":"product_name"}}
[2025-10-06T09:49:16.504Z] [INFO] Search request received {"query":"chocolate","type":"product_name","userId":"anonymous"}
[2025-10-06T09:49:16.504Z] [INFO] Starting Google AI analysis {"query":"chocolate","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T09:49:28.966Z] [INFO] Google AI analysis completed {"query":"chocolate","responseLength":1405}
[2025-10-06T09:49:29.000Z] [INFO] Search history saved {"searchId":"68e390a809d58096c398713c"}
[2025-10-06T09:49:29.000Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"12497ms","responseSize":3498,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"chocolate\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"caution\",\"score\":55,\"analysis\":\"Hey there! Chocolate is a yummy treat made from cocoa beans that many of us love. While darker chocolate can actually have some good things for your body, many common types are also packed with a lot of sugar and fat. So, it's a food that's best enjoyed in small amounts.\",\"recommendations\":[\"Enjoy in small portions as a treat\",\"Choose darker chocolate (70% cocoa or more) for more benefits and less sugar\",\"Pair with fruits or nuts for a more balanced snack\"],\"warnings\":[\"Often high in sugar and unhealthy fats\",\"Too much can lead to extra energy that can cause weight gain\",\"Can contain caffeine, which might affect sensitive people\"],\"benefits\":[\"Dark chocolate has stuff that's good for your heart\",\"Can help lift your mood and make you feel happy\",\"Provides quick energy\"],\"nutritionalFacts\":{\"calories\":\"It gives you a good amount of energy, which adds up quickly in larger portions.\",\"macros\":\"Mostly made up of fat and sugar, with a small amount of protein.\",\"keyNutrients\":[\"Iron\",\"Magnesium\",\"Fiber (especially in darker chocolate)\"]},\"simpleSummary\":\"Chocolate is a delicious treat that can offer some good things, especially dark varieties, but is often high in sugar and fat, so enjoy it in small amounts.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"caution\\\",\\n  \\\"score\\\": 55,\\n  \\\"analysis\\\": \\\"Hey there! Chocolate is a yummy treat made from cocoa beans that many of us love. While darker chocolate can actually have some good things for your body, many common types are also packed with a lot of sugar and fat. So, it's a food that's best enjoyed in small amounts.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy in small portions as a treat\\\",\\n    \\\"Choose darker chocolate (70% cocoa or more) for more benefits and less sugar\\\",\\n    \\\"Pair with fruits or nuts for a more balanced snack\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Often high in sugar and unhealthy fats\\\",\\n    \\\"Too much can lead to extra energy that can cause weight gain\\\",\\n    \\\"Can contain caffeine, which might affect sensitive people\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Dark chocolate has stuff that's good for your heart\\\",\\n    \\\"Can help lift your mood and make you feel happy\\\",\\n    \\\"Provides quick energy\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"It gives you a good amount of energy, which adds up quickly in larger portions.\\\",\\n    \\\"macros\\\": \\\"Mostly made up of fat and sugar, with a small amount of protein.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Iron\\\",\\n      \\\"Magnesium\\\",\\n      \\\"Fiber (especially in darker chocolate)\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Chocolate is a delicious treat that can offer some good things, especially dark varieties, but is often high in sugar and fat, so enjoy it in small amounts.\\\"\\n}\"},\"personalization\":{\"hasHealthProfile\":false,\"message\":\"No health profile found. Analysis is general, not personalized.\",\"suggestion\":\"Create a health profile in your account settings for personalized food recommendations.\"},\"timestamp\":\"2025-10-06T09:49:29.000Z\",\"isPersonalized\":false,\"isFallback\":false}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T09:49:44.903Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:49:44.903Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1","body":{"searchQuery":"chocolate","searchType":"product_name"}}
[2025-10-06T09:49:44.904Z] [INFO] Search request received {"query":"chocolate","type":"product_name","userId":"anonymous"}
[2025-10-06T09:49:44.904Z] [INFO] Starting Google AI analysis {"query":"chocolate","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T09:49:53.632Z] [INFO] Google AI analysis completed {"query":"chocolate","responseLength":1414}
[2025-10-06T09:49:53.679Z] [INFO] Search history saved {"searchId":"68e390c109d58096c398713e"}
[2025-10-06T09:49:53.680Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"8777ms","responseSize":3516,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"chocolate\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"caution\",\"score\":55,\"analysis\":\"Hey there! Chocolate is a delicious treat made from cocoa beans, often mixed with sugar and fat to create many different kinds. While dark chocolate offers some good things for your body, most chocolates can give you a quick burst of energy but are also high in sugar and fat, so it's best enjoyed in small amounts.\",\"recommendations\":[\"Enjoy in small portions\",\"Choose dark chocolate (70% cocoa or more) for more benefits\",\"Pair with fruits for a balanced snack\"],\"warnings\":[\"High in sugar and fat (especially milk and white chocolate)\",\"Can lead to weight gain if eaten too much\",\"Contains caffeine (can keep you awake if eaten late)\"],\"benefits\":[\"Dark chocolate has antioxidants that are good for your body\",\"Can lift your mood\",\"May be good for your heart (dark chocolate)\"],\"nutritionalFacts\":{\"calories\":\"Quite a bit of energy, often 150-250 calories for a standard serving, depending on the type.\",\"macros\":\"Mostly carbs (from sugar) and fats, with a little bit of protein.\",\"keyNutrients\":[\"Iron\",\"Magnesium\",\"Fiber (especially in dark chocolate)\"]},\"simpleSummary\":\"Chocolate is a tasty treat that can offer some benefits if it's dark, but generally it's best enjoyed in small amounts due to its sugar and fat content.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"caution\\\",\\n  \\\"score\\\": 55,\\n  \\\"analysis\\\": \\\"Hey there! Chocolate is a delicious treat made from cocoa beans, often mixed with sugar and fat to create many different kinds. While dark chocolate offers some good things for your body, most chocolates can give you a quick burst of energy but are also high in sugar and fat, so it's best enjoyed in small amounts.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy in small portions\\\",\\n    \\\"Choose dark chocolate (70% cocoa or more) for more benefits\\\",\\n    \\\"Pair with fruits for a balanced snack\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"High in sugar and fat (especially milk and white chocolate)\\\",\\n    \\\"Can lead to weight gain if eaten too much\\\",\\n    \\\"Contains caffeine (can keep you awake if eaten late)\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Dark chocolate has antioxidants that are good for your body\\\",\\n    \\\"Can lift your mood\\\",\\n    \\\"May be good for your heart (dark chocolate)\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"Quite a bit of energy, often 150-250 calories for a standard serving, depending on the type.\\\",\\n    \\\"macros\\\": \\\"Mostly carbs (from sugar) and fats, with a little bit of protein.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Iron\\\",\\n      \\\"Magnesium\\\",\\n      \\\"Fiber (especially in dark chocolate)\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Chocolate is a tasty treat that can offer some benefits if it's dark, but generally it's best enjoyed in small amounts due to its sugar and fat content.\\\"\\n}\"},\"personalization\":{\"hasHealthProfile\":false,\"message\":\"No health profile found. Analysis is general, not personalized.\",\"suggestion\":\"Create a health profile in your account settings for personalized food recommendations.\"},\"timestamp\":\"2025-10-06T09:49:53.679Z\",\"isPersonalized\":false,\"isFallback\":false}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T09:50:16.774Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:50:16.775Z] [DEBUG] Incoming request {"method":"GET","url":"/api/profile/health","query":{},"params":{},"headers":{"authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-10-06T09:50:16.776Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T09:50:16.812Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"36ms"}
[2025-10-06T09:50:16.812Z] [INFO] Health profile retrieval requested {"userId":"68e3791379392226c2500fe4"}
[2025-10-06T09:50:16.812Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T09:50:16.859Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"47ms"}
[2025-10-06T09:50:16.860Z] [INFO] Health profile retrieved {"userId":"68e3791379392226c2500fe4","profileId":"68e3791e79392226c2500fea","version":2}
[2025-10-06T09:50:16.860Z] [INFO] Request completed {"method":"GET","url":"/","statusCode":200,"responseTime":"85ms","responseSize":1582,"responseBody":"{\"success\":true,\"message\":\"Health profile retrieved successfully\",\"profile\":{\"healthConditions\":{\"diabetes\":{\"type\":\"type2\",\"severity\":\"moderate\",\"diagnosedDate\":\"2023-01-15T00:00:00.000Z\",\"medications\":[]},\"hypertension\":{\"severity\":null,\"medications\":[]},\"heartDisease\":{\"type\":null,\"severity\":null},\"kidneyDisease\":{\"stage\":null,\"dialysis\":false},\"digestiveIssues\":{\"ibs\":false,\"crohns\":false,\"colitis\":false,\"celiac\":false,\"lactoseIntolerant\":false},\"autoimmune\":{\"rheumatoidArthritis\":false,\"lupus\":false,\"hashimotos\":false,\"graves\":false}},\"allergies\":{\"food\":[{\"allergen\":\"peanuts\",\"severity\":\"severe\",\"reaction\":\"anaphylaxis\",\"_id\":\"68e3791e79392226c2500feb\"}],\"medication\":[]},\"dietaryRestrictions\":{\"religious\":{\"halal\":false,\"kosher\":false,\"hindu\":false},\"vegetarian\":false,\"vegan\":false,\"keto\":false,\"paleo\":false,\"lowCarb\":false,\"lowSodium\":false,\"lowSugar\":false,\"glutenFree\":false,\"dairyFree\":false},\"healthGoals\":{\"weightManagement\":{\"goal\":\"maintain\",\"targetWeight\":150,\"currentWeight\":150}},\"activityLevel\":{\"injuries\":[],\"current\":\"moderately_active\",\"exerciseFrequency\":\"3-4\",\"exerciseType\":[\"cardio\",\"strength\"]},\"preferences\":{\"accessibility\":{\"groceryStores\":[]},\"cuisine\":[]},\"_id\":\"68e3791e79392226c2500fea\",\"userId\":\"68e3791379392226c2500fe4\",\"version\":2,\"medications\":[],\"supplements\":[],\"createdAt\":\"2025-10-06T08:09:02.806Z\",\"updatedAt\":\"2025-10-06T08:09:18.688Z\",\"__v\":0}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T09:50:24.917Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T09:50:25.129Z] [INFO] Connecting to database...
[2025-10-06T09:50:25.129Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T09:50:25.134Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T09:50:25.136Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T09:50:25.665Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"536ms"}
[2025-10-06T09:50:29.977Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T09:50:30.080Z] [INFO] Connecting to database...
[2025-10-06T09:50:30.080Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T09:50:30.085Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T09:50:30.086Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T09:50:30.633Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"553ms"}
[2025-10-06T09:50:37.994Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:50:38.000Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1","body":{"searchQuery":"chocolate","searchType":"product_name"}}
[2025-10-06T09:50:38.002Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T09:50:38.035Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"33ms"}
[2025-10-06T09:50:38.036Z] [INFO] Search request received {"query":"chocolate","type":"product_name","userId":"68e3791379392226c2500fe4"}
[2025-10-06T09:50:38.036Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T09:50:38.068Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"32ms"}
[2025-10-06T09:50:38.068Z] [INFO] Health profile found for personalized analysis {"userId":"68e3791379392226c2500fe4","hasConditions":true,"hasAllergies":true,"hasGoals":true}
[2025-10-06T09:50:38.068Z] [INFO] Starting Google AI analysis {"query":"chocolate","type":"product_name","hasUserProfile":true,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T09:50:52.904Z] [INFO] Google AI analysis completed {"query":"chocolate","responseLength":2115}
[2025-10-06T09:50:52.950Z] [INFO] Search history saved {"searchId":"68e390fc8dd54a0462d6408a"}
[2025-10-06T09:50:52.952Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"14953ms","responseSize":4951,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"chocolate\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"caution\",\"score\":40,\"analysis\":\"Chocolate is a delicious treat made from cocoa beans, often mixed with sugar and fat. While a small piece can give you a quick energy boost and even some good-for-you antioxidants, it's usually packed with sugar and calories. For you, with type 2 diabetes, it's super important to be mindful of its sugar content, and always check for peanuts due to your allergy.\",\"recommendations\":[\"If you choose to have chocolate, pick dark chocolate (70% cocoa or higher) as it usually has less sugar.\",\"Always check the nutrition label for sugar content and keep your portions very small to help manage your blood sugar and weight.\",\"Look for brands that are certified peanut-free to avoid any risk with your severe allergy.\",\"Consider it an occasional treat rather than a regular snack.\"],\"warnings\":[\"High in sugar, which can significantly raise your blood sugar levels if you have diabetes.\",\"Often high in calories and fat, which can make it harder to maintain your weight if eaten in large amounts.\",\"CRITICAL: Many chocolates contain peanuts or are made on equipment that also processes peanuts. ALWAYS read labels carefully for peanut warnings due to your severe allergy.\",\"Can contain other allergens like milk or soy, so be aware if you have other sensitivities.\"],\"benefits\":[\"Dark chocolate (high cocoa percentage) contains antioxidants, which are good for your body.\",\"Can provide a quick boost of energy.\",\"Eating a small amount can sometimes lift your mood and be a satisfying treat.\"],\"nutritionalFacts\":{\"calories\":\"A small piece of chocolate can give you a lot of energy, sometimes over 150 calories.\",\"macros\":\"Mostly sugar and fat, with a little bit of protein.\",\"keyNutrients\":[\"Iron\",\"Magnesium\",\"Fiber (especially in dark chocolate)\"]},\"simpleSummary\":\"Chocolate is a tasty treat that requires careful checking for sugar and peanuts due to your diabetes and severe allergy; enjoy in very small, safe portions.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"caution\\\",\\n  \\\"score\\\": 40,\\n  \\\"analysis\\\": \\\"Chocolate is a delicious treat made from cocoa beans, often mixed with sugar and fat. While a small piece can give you a quick energy boost and even some good-for-you antioxidants, it's usually packed with sugar and calories. For you, with type 2 diabetes, it's super important to be mindful of its sugar content, and always check for peanuts due to your allergy.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"If you choose to have chocolate, pick dark chocolate (70% cocoa or higher) as it usually has less sugar.\\\",\\n    \\\"Always check the nutrition label for sugar content and keep your portions very small to help manage your blood sugar and weight.\\\",\\n    \\\"Look for brands that are certified peanut-free to avoid any risk with your severe allergy.\\\",\\n    \\\"Consider it an occasional treat rather than a regular snack.\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"High in sugar, which can significantly raise your blood sugar levels if you have diabetes.\\\",\\n    \\\"Often high in calories and fat, which can make it harder to maintain your weight if eaten in large amounts.\\\",\\n    \\\"CRITICAL: Many chocolates contain peanuts or are made on equipment that also processes peanuts. ALWAYS read labels carefully for peanut warnings due to your severe allergy.\\\",\\n    \\\"Can contain other allergens like milk or soy, so be aware if you have other sensitivities.\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Dark chocolate (high cocoa percentage) contains antioxidants, which are good for your body.\\\",\\n    \\\"Can provide a quick boost of energy.\\\",\\n    \\\"Eating a small amount can sometimes lift your mood and be a satisfying treat.\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"A small piece of chocolate can give you a lot of energy, sometimes over 150 calories.\\\",\\n    \\\"macros\\\": \\\"Mostly sugar and fat, with a little bit of protein.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Iron\\\",\\n      \\\"Magnesium\\\",\\n      \\\"Fiber (especially in dark chocolate)\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Chocolate is a tasty treat that requires careful checking for sugar and peanuts due to your diabetes and severe allergy; enjoy in very small, safe portions.\\\"\\n}\"},\"personalization\":{\"hasHealthProfile\":true,\"consideredFactors\":[\"Diabetes management\",\"Food allergies\",\"Weight management\"],\"personalizedFor\":[\"Type 2 diabetes (moderate severity)\",\"Food allergies: peanuts\",\"Weight goal: maintain weight\"]},\"timestamp\":\"2025-10-06T09:50:52.951Z\",\"isPersonalized\":true,\"isFallback\":false}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T09:52:45.849Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:52:45.850Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1","body":{"searchQuery":"chocolate","searchType":"product_name"}}
[2025-10-06T09:52:45.851Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T09:52:45.884Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"33ms"}
[2025-10-06T09:52:45.885Z] [INFO] Search request received {"query":"chocolate","type":"product_name","userId":"68e3791379392226c2500fe4"}
[2025-10-06T09:52:45.885Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e3791379392226c2500fe4"},"options":{}}
[2025-10-06T09:52:45.927Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"42ms"}
[2025-10-06T09:52:45.927Z] [INFO] Health profile found for personalized analysis {"userId":"68e3791379392226c2500fe4","hasConditions":true,"hasAllergies":true,"hasGoals":true}
[2025-10-06T09:52:45.927Z] [INFO] Starting Google AI analysis {"query":"chocolate","type":"product_name","hasUserProfile":true,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T09:52:59.985Z] [INFO] Google AI analysis completed {"query":"chocolate","responseLength":2189}
[2025-10-06T09:53:00.038Z] [INFO] Search history saved {"searchId":"68e3917b8dd54a0462d6408f"}
[2025-10-06T09:53:00.039Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"14189ms","responseSize":5094,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"chocolate\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"caution\",\"score\":45,\"analysis\":\"Hey there! Chocolate is a tasty treat made from cocoa beans, often with lots of added sugar and fat. For you, with type 2 diabetes, the sugar in most chocolates can quickly raise your blood sugar, which isn't good for managing your condition. Plus, we need to be super careful about any peanut contamination due to your severe allergy.\",\"recommendations\":[\"If you really want a little chocolate, choose very dark chocolate (70% cocoa or more) because it has less sugar, and only have a tiny piece.\",\"Always, always check the label for peanuts or 'may contain peanuts' to keep you safe from your allergy.\",\"It's smart to check your blood sugar after eating chocolate to see how your body reacts.\",\"Consider unsweetened cocoa powder as a flavor alternative without the added sugar.\",\"Remember that even small portions have 'energy' (calories), so be mindful for your weight goal.\"],\"warnings\":[\"Most chocolates are packed with sugar, which can spike your blood sugar levels and make managing your diabetes harder.\",\"Many chocolates are made in facilities that also handle peanuts, so you MUST read labels carefully to avoid a dangerous allergic reaction.\",\"Chocolate can be high in 'energy' (calories) and fat, which isn't ideal for keeping your weight steady if you eat too much.\"],\"benefits\":[\"Dark chocolate (especially 70% cocoa or higher) has some good stuff called antioxidants that are good for your body.\",\"A small amount can sometimes give you a little mood boost.\"],\"nutritionalFacts\":{\"calories\":\"Chocolate usually has a fair amount of 'energy' (calories) for its size, mostly from sugar and fat.\",\"macros\":\"It's typically high in carbs (mostly sugar) and fats, with very little protein.\",\"keyNutrients\":[\"Iron (in dark chocolate)\",\"Magnesium (in dark chocolate)\",\"Fiber (in dark chocolate)\"]},\"simpleSummary\":\"Chocolate can be a tricky treat due to its sugar content for diabetes and the serious risk of peanut cross-contamination, so enjoy with extreme caution and careful label-checking.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"caution\\\",\\n  \\\"score\\\": 45,\\n  \\\"analysis\\\": \\\"Hey there! Chocolate is a tasty treat made from cocoa beans, often with lots of added sugar and fat. For you, with type 2 diabetes, the sugar in most chocolates can quickly raise your blood sugar, which isn't good for managing your condition. Plus, we need to be super careful about any peanut contamination due to your severe allergy.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"If you really want a little chocolate, choose very dark chocolate (70% cocoa or more) because it has less sugar, and only have a tiny piece.\\\",\\n    \\\"Always, always check the label for peanuts or 'may contain peanuts' to keep you safe from your allergy.\\\",\\n    \\\"It's smart to check your blood sugar after eating chocolate to see how your body reacts.\\\",\\n    \\\"Consider unsweetened cocoa powder as a flavor alternative without the added sugar.\\\",\\n    \\\"Remember that even small portions have 'energy' (calories), so be mindful for your weight goal.\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Most chocolates are packed with sugar, which can spike your blood sugar levels and make managing your diabetes harder.\\\",\\n    \\\"Many chocolates are made in facilities that also handle peanuts, so you MUST read labels carefully to avoid a dangerous allergic reaction.\\\",\\n    \\\"Chocolate can be high in 'energy' (calories) and fat, which isn't ideal for keeping your weight steady if you eat too much.\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Dark chocolate (especially 70% cocoa or higher) has some good stuff called antioxidants that are good for your body.\\\",\\n    \\\"A small amount can sometimes give you a little mood boost.\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"Chocolate usually has a fair amount of 'energy' (calories) for its size, mostly from sugar and fat.\\\",\\n    \\\"macros\\\": \\\"It's typically high in carbs (mostly sugar) and fats, with very little protein.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Iron (in dark chocolate)\\\",\\n      \\\"Magnesium (in dark chocolate)\\\",\\n      \\\"Fiber (in dark chocolate)\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Chocolate can be a tricky treat due to its sugar content for diabetes and the serious risk of peanut cross-contamination, so enjoy with extreme caution and careful label-checking.\\\"\\n}\"},\"personalization\":{\"hasHealthProfile\":true,\"consideredFactors\":[\"Diabetes management\",\"Food allergies\",\"Weight management\"],\"personalizedFor\":[\"Type 2 diabetes (moderate severity)\",\"Food allergies: peanuts\",\"Weight goal: maintain weight\"]},\"timestamp\":\"2025-10-06T09:53:00.038Z\",\"isPersonalized\":true,\"isFallback\":false}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-10-06T09:53:11.268Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T09:53:11.486Z] [INFO] Connecting to database...
[2025-10-06T09:53:11.486Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T09:53:11.491Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T09:53:11.492Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T09:53:11.986Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-01.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"500ms"}
[2025-10-06T09:55:05.939Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:55:05.940Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T09:55:05.944Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T09:55:05.944Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T09:55:05.959Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T09:55:05.964Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T09:55:06.004Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"40ms"}
[2025-10-06T09:55:06.008Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"68e2dd3bcdabcf575e260591"}
[2025-10-06T09:55:06.008Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T09:55:06.041Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"33ms"}
[2025-10-06T09:55:06.042Z] [INFO] No health profile found for user {"userId":"68e2dd3bcdabcf575e260591"}
[2025-10-06T09:55:06.042Z] [INFO] Starting Google AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T09:55:17.997Z] [INFO] Google AI analysis completed {"query":"coke","responseLength":1272}
[2025-10-06T09:55:18.062Z] [INFO] Search history saved {"searchId":"68e392060516ac8a3ad6916d"}
[2025-10-06T09:55:18.063Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"12104ms","responseSize":3224,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"negative\",\"score\":15,\"analysis\":\"Coke is a very popular fizzy drink known for its sweet taste and quick pick-me-up. But it's mostly just sugar and water, meaning it doesn't give your body any helpful nutrients. Drinking too much can be bad for your teeth and your overall health because of all that sugar.\",\"recommendations\":[\"Enjoy as an occasional small treat\",\"Choose water or unsweetened drinks most of the time\",\"Consider smaller serving sizes if you do drink it\"],\"warnings\":[\"Very high in sugar\",\"Can contribute to weight gain if consumed regularly\",\"Bad for your teeth and can cause cavities\",\"Contains caffeine, which might affect sleep for some people\"],\"benefits\":[\"Provides a quick energy boost due to sugar\",\"Enjoyable taste for many people\"],\"nutritionalFacts\":{\"calories\":\"About 140 energy units in a standard can (330ml).\",\"macros\":\"Almost entirely sugar (carbohydrates), with no protein or fat.\",\"keyNutrients\":[\"Lots of sugar\",\"No vitamins or minerals\"]},\"simpleSummary\":\"Coke is a very sugary drink that gives you a quick energy boost but offers no real health benefits and is best saved for rare occasions.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 15,\\n  \\\"analysis\\\": \\\"Coke is a very popular fizzy drink known for its sweet taste and quick pick-me-up. But it's mostly just sugar and water, meaning it doesn't give your body any helpful nutrients. Drinking too much can be bad for your teeth and your overall health because of all that sugar.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Enjoy as an occasional small treat\\\",\\n    \\\"Choose water or unsweetened drinks most of the time\\\",\\n    \\\"Consider smaller serving sizes if you do drink it\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Very high in sugar\\\",\\n    \\\"Can contribute to weight gain if consumed regularly\\\",\\n    \\\"Bad for your teeth and can cause cavities\\\",\\n    \\\"Contains caffeine, which might affect sleep for some people\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Provides a quick energy boost due to sugar\\\",\\n    \\\"Enjoyable taste for many people\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"About 140 energy units in a standard can (330ml).\\\",\\n    \\\"macros\\\": \\\"Almost entirely sugar (carbohydrates), with no protein or fat.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Lots of sugar\\\",\\n      \\\"No vitamins or minerals\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Coke is a very sugary drink that gives you a quick energy boost but offers no real health benefits and is best saved for rare occasions.\\\"\\n}\"},\"personalization\":{\"hasHealthProfile\":false,\"message\":\"No health profile found. Analysis is general, not personalized.\",\"suggestion\":\"Create a health profile in your account settings for personalized food recommendations.\"},\"timestamp\":\"2025-10-06T09:55:18.062Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T10:05:00.507Z] [INFO] Database reconnected
[2025-10-06T10:23:33.364Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T10:23:33.367Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T10:23:33.371Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T10:23:33.371Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T10:23:33.374Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T10:23:33.380Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T10:23:33.730Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"350ms"}
[2025-10-06T10:23:33.732Z] [INFO] Search request received {"query":"coke","type":"product_name","userId":"68e2dd3bcdabcf575e260591"}
[2025-10-06T10:23:33.733Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T10:23:33.774Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"41ms"}
[2025-10-06T10:23:33.774Z] [INFO] No health profile found for user {"userId":"68e2dd3bcdabcf575e260591"}
[2025-10-06T10:23:33.774Z] [INFO] Starting Google AI analysis {"query":"coke","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T10:23:45.069Z] [INFO] Google AI analysis completed {"query":"coke","responseLength":1174}
[2025-10-06T10:23:45.123Z] [INFO] Search history saved {"searchId":"68e398b10516ac8a3ad69171"}
[2025-10-06T10:23:45.124Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"11751ms","responseSize":3020,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"coke\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"negative\",\"score\":10,\"analysis\":\"Coke is a popular fizzy drink that's basically water, a lot of sugar, and flavorings. While it can give you a quick burst of energy and tastes sweet, it doesn't offer any good stuff like vitamins or fiber. Drinking too much of it regularly can be bad for your health because of all that sugar.\",\"recommendations\":[\"Drink water or unsweetened tea instead\",\"Save coke for a very occasional treat, not an everyday drink\",\"Choose smaller portions if you do decide to have one\"],\"warnings\":[\"Very high in sugar\",\"Can lead to weight gain if consumed often\",\"Bad for your teeth\",\"Provides no real nutrients\"],\"benefits\":[\"Provides a temporary energy boost (from sugar)\"],\"nutritionalFacts\":{\"calories\":\"Around 140-150 energy per regular can (about 12 oz)\",\"macros\":\"Almost all sugar (carbs), with no protein or fat\",\"keyNutrients\":[\"None significant\"]},\"simpleSummary\":\"Coke is a sugary drink that gives you a quick energy boost but offers no real nutrition and can be bad for your health if you drink it too much.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"negative\\\",\\n  \\\"score\\\": 10,\\n  \\\"analysis\\\": \\\"Coke is a popular fizzy drink that's basically water, a lot of sugar, and flavorings. While it can give you a quick burst of energy and tastes sweet, it doesn't offer any good stuff like vitamins or fiber. Drinking too much of it regularly can be bad for your health because of all that sugar.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Drink water or unsweetened tea instead\\\",\\n    \\\"Save coke for a very occasional treat, not an everyday drink\\\",\\n    \\\"Choose smaller portions if you do decide to have one\\\"\\n  ],\\n  \\\"warnings\\\": [\\n    \\\"Very high in sugar\\\",\\n    \\\"Can lead to weight gain if consumed often\\\",\\n    \\\"Bad for your teeth\\\",\\n    \\\"Provides no real nutrients\\\"\\n  ],\\n  \\\"benefits\\\": [\\n    \\\"Provides a temporary energy boost (from sugar)\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"Around 140-150 energy per regular can (about 12 oz)\\\",\\n    \\\"macros\\\": \\\"Almost all sugar (carbs), with no protein or fat\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"None significant\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Coke is a sugary drink that gives you a quick energy boost but offers no real nutrition and can be bad for your health if you drink it too much.\\\"\\n}\"},\"personalization\":{\"hasHealthProfile\":false,\"message\":\"No health profile found. Analysis is general, not personalized.\",\"suggestion\":\"Create a health profile in your account settings for personalized food recommendations.\"},\"timestamp\":\"2025-10-06T10:23:45.123Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T10:27:30.230Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T10:27:30.231Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T10:27:30.234Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T10:27:30.234Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T10:27:30.235Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"email":"vipankverma12345678909876@gmail.com","password":"Vips$cool03","rememberMe":true}}
[2025-10-06T10:27:30.240Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipankverma12345678909876@gmail.com"},"options":{}}
[2025-10-06T10:27:30.275Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"35ms"}
[2025-10-06T10:27:30.575Z] [INFO] Request completed {"method":"POST","url":"/login","statusCode":200,"responseTime":"340ms","responseSize":408,"responseBody":"{\"success\":true,\"message\":\"Login successful\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZTJkZDNiY2RhYmNmNTc1ZTI2MDU5MSIsImlhdCI6MTc1OTc0NjQ1MCwiZXhwIjoxNzYwMzUxMjUwfQ.r9t-XqzM7jePwkHgwVssMQh-ganbeBtx5Ee5fj30ghI\",\"user\":{\"id\":\"68e2dd3bcdabcf575e260591\",\"username\":\"Vipan_kumar\",\"email\":\"vipankverma12345678909876@gmail.com\",\"lastLogin\":\"2025-10-06T10:27:30.513Z\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T10:27:40.762Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T10:27:40.762Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T10:27:40.763Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T10:27:40.764Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T10:27:40.764Z] [DEBUG] Incoming request {"method":"POST","url":"/api/profile/health","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"healthConditions":{"digestiveIssues":{"ibs":false,"crohns":false,"colitis":false,"celiac":false,"lactoseIntolerant":false},"autoimmune":{"rheumatoidArthritis":false,"lupus":false,"hashimotos":false,"graves":false}},"allergies":{"food":[],"medication":[]},"dietaryRestrictions":{"vegetarian":false,"vegan":false,"keto":false,"paleo":false,"lowCarb":false,"lowSodium":false,"lowSugar":false,"glutenFree":false,"dairyFree":false,"religious":{"halal":false,"kosher":false,"hindu":false}},"healthGoals":{},"activityLevel":{},"medications":[],"supplements":[]}}
[2025-10-06T10:27:40.766Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T10:27:40.797Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"31ms"}
[2025-10-06T10:27:40.797Z] [INFO] Health profile request received {"userId":"68e2dd3bcdabcf575e260591","hasHealthConditions":true,"hasAllergies":true,"hasHealthGoals":true}
[2025-10-06T10:27:40.797Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T10:27:40.828Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"31ms"}
[2025-10-06T10:27:40.873Z] [INFO] Health profile created {"userId":"68e2dd3bcdabcf575e260591","profileId":"68e3999c0516ac8a3ad69177","version":1}
[2025-10-06T10:27:40.875Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":201,"responseTime":"111ms","responseSize":1234,"responseBody":"{\"success\":true,\"message\":\"Health profile created successfully\",\"profile\":{\"userId\":\"68e2dd3bcdabcf575e260591\",\"healthConditions\":{\"digestiveIssues\":{\"ibs\":false,\"crohns\":false,\"colitis\":false,\"celiac\":false,\"lactoseIntolerant\":false},\"autoimmune\":{\"rheumatoidArthritis\":false,\"lupus\":false,\"hashimotos\":false,\"graves\":false},\"diabetes\":{\"type\":null,\"severity\":null,\"diagnosedDate\":null,\"medications\":[]},\"hypertension\":{\"severity\":null,\"medications\":[]},\"heartDisease\":{\"type\":null,\"severity\":null},\"kidneyDisease\":{\"stage\":null,\"dialysis\":false}},\"allergies\":{\"food\":[],\"medication\":[]},\"dietaryRestrictions\":{\"vegetarian\":false,\"vegan\":false,\"keto\":false,\"paleo\":false,\"lowCarb\":false,\"lowSodium\":false,\"lowSugar\":false,\"glutenFree\":false,\"dairyFree\":false,\"religious\":{\"halal\":false,\"kosher\":false,\"hindu\":false}},\"activityLevel\":{\"exerciseType\":[],\"injuries\":[]},\"medications\":[],\"supplements\":[],\"preferences\":{\"accessibility\":{\"groceryStores\":[]},\"cuisine\":[]},\"version\":1,\"_id\":\"68e3999c0516ac8a3ad69177\",\"createdAt\":\"2025-10-06T10:27:40.832Z\",\"updatedAt\":\"2025-10-06T10:27:40.835Z\",\"__v\":0}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T10:28:16.725Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T10:28:16.727Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T10:28:16.729Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T10:28:16.729Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T10:28:16.730Z] [DEBUG] Incoming request {"method":"POST","url":"/api/profile/health","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"healthConditions":{"digestiveIssues":{"ibs":true,"crohns":true,"colitis":true,"celiac":true,"lactoseIntolerant":true},"autoimmune":{"rheumatoidArthritis":true,"lupus":true,"hashimotos":true,"graves":true}},"allergies":{"food":[],"medication":[]},"dietaryRestrictions":{"vegetarian":false,"vegan":false,"keto":false,"paleo":false,"lowCarb":false,"lowSodium":false,"lowSugar":false,"glutenFree":false,"dairyFree":false,"religious":{"halal":false,"kosher":false,"hindu":false}},"healthGoals":{},"activityLevel":{},"medications":[],"supplements":[]}}
[2025-10-06T10:28:16.731Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T10:28:16.762Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"31ms"}
[2025-10-06T10:28:16.762Z] [INFO] Health profile request received {"userId":"68e2dd3bcdabcf575e260591","hasHealthConditions":true,"hasAllergies":true,"hasHealthGoals":true}
[2025-10-06T10:28:16.763Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T10:28:16.799Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"36ms"}
[2025-10-06T10:28:16.837Z] [INFO] Health profile updated {"userId":"68e2dd3bcdabcf575e260591","profileId":"68e3999c0516ac8a3ad69177","version":2}
[2025-10-06T10:28:16.838Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"109ms","responseSize":919,"responseBody":"{\"success\":true,\"message\":\"Health profile updated successfully\",\"profile\":{\"healthConditions\":{\"digestiveIssues\":{\"ibs\":true,\"crohns\":true,\"colitis\":true,\"celiac\":true,\"lactoseIntolerant\":true},\"autoimmune\":{\"rheumatoidArthritis\":true,\"lupus\":true,\"hashimotos\":true,\"graves\":true}},\"allergies\":{\"food\":[],\"medication\":[]},\"dietaryRestrictions\":{\"vegetarian\":false,\"vegan\":false,\"keto\":false,\"paleo\":false,\"lowCarb\":false,\"lowSodium\":false,\"lowSugar\":false,\"glutenFree\":false,\"dairyFree\":false,\"religious\":{\"halal\":false,\"kosher\":false,\"hindu\":false}},\"preferences\":{\"accessibility\":{\"groceryStores\":[]},\"cuisine\":[]},\"_id\":\"68e3999c0516ac8a3ad69177\",\"userId\":\"68e2dd3bcdabcf575e260591\",\"medications\":[],\"supplements\":[],\"version\":2,\"createdAt\":\"2025-10-06T10:27:40.832Z\",\"updatedAt\":\"2025-10-06T10:28:16.802Z\",\"__v\":0}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T10:28:18.786Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T10:28:18.787Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T10:28:18.788Z] [DEBUG] Incoming request {"method":"POST","url":"/api/profile/health","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"healthConditions":{"digestiveIssues":{"ibs":true,"crohns":true,"colitis":true,"celiac":true,"lactoseIntolerant":true},"autoimmune":{"rheumatoidArthritis":true,"lupus":true,"hashimotos":true,"graves":true}},"allergies":{"food":[],"medication":[]},"dietaryRestrictions":{"vegetarian":false,"vegan":false,"keto":false,"paleo":false,"lowCarb":false,"lowSodium":false,"lowSugar":false,"glutenFree":false,"dairyFree":false,"religious":{"halal":false,"kosher":false,"hindu":false}},"healthGoals":{},"activityLevel":{},"medications":[],"supplements":[]}}
[2025-10-06T10:28:18.790Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T10:28:18.821Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"31ms"}
[2025-10-06T10:28:18.821Z] [INFO] Health profile request received {"userId":"68e2dd3bcdabcf575e260591","hasHealthConditions":true,"hasAllergies":true,"hasHealthGoals":true}
[2025-10-06T10:28:18.822Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e2dd3bcdabcf575e260591"},"options":{}}
[2025-10-06T10:28:18.853Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"31ms"}
[2025-10-06T10:28:18.889Z] [INFO] Health profile updated {"userId":"68e2dd3bcdabcf575e260591","profileId":"68e3999c0516ac8a3ad69177","version":3}
[2025-10-06T10:28:18.890Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"102ms","responseSize":919,"responseBody":"{\"success\":true,\"message\":\"Health profile updated successfully\",\"profile\":{\"healthConditions\":{\"digestiveIssues\":{\"ibs\":true,\"crohns\":true,\"colitis\":true,\"celiac\":true,\"lactoseIntolerant\":true},\"autoimmune\":{\"rheumatoidArthritis\":true,\"lupus\":true,\"hashimotos\":true,\"graves\":true}},\"allergies\":{\"food\":[],\"medication\":[]},\"dietaryRestrictions\":{\"vegetarian\":false,\"vegan\":false,\"keto\":false,\"paleo\":false,\"lowCarb\":false,\"lowSodium\":false,\"lowSugar\":false,\"glutenFree\":false,\"dairyFree\":false,\"religious\":{\"halal\":false,\"kosher\":false,\"hindu\":false}},\"preferences\":{\"accessibility\":{\"groceryStores\":[]},\"cuisine\":[]},\"_id\":\"68e3999c0516ac8a3ad69177\",\"userId\":\"68e2dd3bcdabcf575e260591\",\"medications\":[],\"supplements\":[],\"version\":3,\"createdAt\":\"2025-10-06T10:27:40.832Z\",\"updatedAt\":\"2025-10-06T10:28:18.856Z\",\"__v\":0}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T10:33:31.737Z] [WARN] Database disconnected
[2025-10-06T10:33:31.795Z] [INFO] Database reconnected
[2025-10-06T10:37:48.507Z] [INFO] Database reconnected
[2025-10-06T10:37:48.599Z] [INFO] Database reconnected
[2025-10-06T10:37:58.770Z] [WARN] Database disconnected
[2025-10-06T10:37:58.809Z] [INFO] Database reconnected
[2025-10-06T12:05:43.034Z] [WARN] Database disconnected
[2025-10-06T12:06:02.908Z] [INFO] Database reconnected
[2025-10-06T12:11:43.547Z] [WARN] Database disconnected
[2025-10-06T12:13:27.372Z] [INFO] Database reconnected
[2025-10-06T12:14:19.764Z] [WARN] Database disconnected
[2025-10-06T12:14:45.663Z] [INFO] Database reconnected
[2025-10-06T12:17:35.225Z] [WARN] Database disconnected
[2025-10-06T12:17:47.588Z] [INFO] Database reconnected
[2025-10-06T15:07:35.670Z] [WARN] Database disconnected
[2025-10-06T15:07:35.689Z] [INFO] Database reconnected
[2025-10-06T15:15:18.351Z] [INFO] Database reconnected
[2025-10-06T15:15:18.358Z] [INFO] Database reconnected
[2025-10-06T15:15:28.576Z] [WARN] Database disconnected
[2025-10-06T15:15:28.655Z] [INFO] Database reconnected
[2025-10-06T15:22:52.340Z] [INFO] Database reconnected
[2025-10-06T15:22:52.499Z] [INFO] Database reconnected
[2025-10-06T15:23:02.656Z] [WARN] Database disconnected
[2025-10-06T15:23:02.673Z] [INFO] Database reconnected
[2025-10-06T15:46:31.752Z] [INFO] Database reconnected
[2025-10-06T16:17:32.325Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:17:32.331Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:17:32.337Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:17:32.337Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:17:32.341Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T16:17:32.346Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":401,"responseTime":"4ms","responseSize":104,"responseBody":"{\"success\":false,\"message\":\"No token provided, authorization denied\",\"error\":\"UNAUTHORIZED\"}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T16:18:00.576Z] [INFO] SIGINT received. Shutting down gracefully...
[2025-10-06T16:18:00.578Z] [INFO] Process terminated
[2025-10-06T16:18:01.762Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-10-06T16:18:01.995Z] [INFO] Connecting to database...
[2025-10-06T16:18:01.995Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-10-06T16:18:02.001Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"environment":"development"}
[2025-10-06T16:18:02.003Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-10-06T16:18:02.773Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"778ms"}
[2025-10-06T16:18:10.589Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:18:10.590Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:18:10.594Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:18:10.594Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:18:10.612Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"coke","searchType":"product_name"}}
[2025-10-06T16:18:10.616Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":401,"responseTime":"4ms","responseSize":104,"responseBody":"{\"success\":false,\"message\":\"No token provided, authorization denied\",\"error\":\"UNAUTHORIZED\"}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T16:18:40.181Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:18:40.182Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:18:40.184Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:18:40.184Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:18:40.185Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"email":"vipankverma03@gmail.com","password":"Vips$cool03","rememberMe":true}}
[2025-10-06T16:18:40.192Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipankverma03@gmail.com"},"options":{}}
[2025-10-06T16:18:40.231Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"39ms"}
[2025-10-06T16:18:40.231Z] [INFO] Request completed {"method":"POST","url":"/login","statusCode":401,"responseTime":"46ms","responseSize":57,"responseBody":"{\"success\":false,\"message\":\"Invalid credentials\"}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T16:19:19.282Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:19:19.283Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:19:19.286Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:19:19.286Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:19:19.287Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"username":"Vipan_kumar","email":"vipankverma0987654321@gmail.com","password":"Vips$cool03"}}
[2025-10-06T16:19:19.289Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"$or":[{"email":"vipankverma0987654321@gmail.com"},{"username":"Vipan_kumar"}]},"options":{}}
[2025-10-06T16:19:19.326Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"37ms"}
[2025-10-06T16:19:19.326Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":400,"responseTime":"39ms","responseSize":85,"responseBody":"{\"success\":false,\"message\":\"User already exists with this email or username\"}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T16:21:26.372Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:21:26.373Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:21:26.374Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:21:26.374Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:21:26.375Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"username":"Vipan123_kumar","email":"vipankverma03@gmail.com","password":"Vips$cool03"}}
[2025-10-06T16:21:26.378Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"$or":[{"email":"vipankverma03@gmail.com"},{"username":"Vipan123_kumar"}]},"options":{}}
[2025-10-06T16:21:26.417Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"39ms"}
[2025-10-06T16:21:26.693Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":201,"responseTime":"318ms","responseSize":368,"responseBody":"{\"success\":true,\"message\":\"User registered successfully\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY4ZTNlYzg2YmY3NDc5YzNiMTNkZGQ1NiIsImlhdCI6MTc1OTc2NzY4NiwiZXhwIjoxNzYwMzcyNDg2fQ.318VUBaB7D1ml8fVJ6REBGaqmRyrzPVzdSqZcIfl1n4\",\"user\":{\"id\":\"68e3ec86bf7479c3b13ddd56\",\"username\":\"Vipan123_kumar\",\"email\":\"vipankverma03@gmail.com\"}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T16:22:07.327Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:22:07.329Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:22:07.332Z] [DEBUG] CORS request {"origin":"http://localhost:8000","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"isAllowed":true}
[2025-10-06T16:22:07.332Z] [INFO] CORS allowed {"origin":"http://localhost:8000"}
[2025-10-06T16:22:07.332Z] [DEBUG] Incoming request {"method":"POST","url":"/api/search","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"Bearer [REDACTED]","origin":"http://localhost:8000","referer":"http://localhost:8000/","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","body":{"searchQuery":"Fruits","searchType":"product_name"}}
[2025-10-06T16:22:07.343Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"_id":"68e3ec86bf7479c3b13ddd56"},"options":{}}
[2025-10-06T16:22:07.384Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"41ms"}
[2025-10-06T16:22:07.396Z] [INFO] Search request received {"query":"Fruits","type":"product_name","userId":"68e3ec86bf7479c3b13ddd56"}
[2025-10-06T16:22:07.396Z] [DEBUG] Database query started {"collection":"healthprofiles","operation":"findOne","filter":{"userId":"68e3ec86bf7479c3b13ddd56"},"options":{}}
[2025-10-06T16:22:07.433Z] [DEBUG] DB findOne on healthprofiles {"resultCount":1,"success":true,"duration":"37ms"}
[2025-10-06T16:22:07.433Z] [INFO] No health profile found for user {"userId":"68e3ec86bf7479c3b13ddd56"}
[2025-10-06T16:22:07.433Z] [INFO] Starting Google AI analysis {"query":"Fruits","type":"product_name","hasUserProfile":false,"apiKeyConfigured":true,"baseURL":"https://generativelanguage.googleapis.com/v1beta","model":"gemini-2.5-flash"}
[2025-10-06T16:22:15.799Z] [INFO] Google AI analysis completed {"query":"Fruits","responseLength":1180}
[2025-10-06T16:22:15.852Z] [INFO] Search history saved {"searchId":"68e3ecb7bf7479c3b13ddd5a"}
[2025-10-06T16:22:15.853Z] [INFO] Request completed {"method":"POST","url":"/","statusCode":200,"responseTime":"8521ms","responseSize":3044,"responseBody":"{\"success\":true,\"message\":\"Search completed successfully\",\"searchResult\":{\"query\":\"Fruits\",\"type\":\"product_name\",\"analysis\":{\"healthImpact\":\"positive\",\"score\":95,\"analysis\":\"Hey there! Fruits are like nature's sweet treats, coming in all sorts of yummy colors and flavors. They're packed with good stuff that helps your body stay strong and healthy, giving you a natural energy boost and keeping things running smoothly inside.\",\"recommendations\":[\"Eat a colorful variety of fruits every day\",\"Great choice for a healthy snack anytime\",\"Add sliced fruit to your breakfast cereal or yogurt\"],\"warnings\":[],\"benefits\":[\"Good for your heart\",\"Helps with energy\",\"Boosts your immune system\",\"Helps with digestion (thanks to fiber)\",\"Full of vitamins and minerals\"],\"nutritionalFacts\":{\"calories\":\"Usually around 60-100 energy per serving, depending on the type of fruit.\",\"macros\":\"Mostly natural sugar (carbs) and lots of fiber, with very little fat or protein.\",\"keyNutrients\":[\"Vitamin C\",\"Fiber\",\"Potassium\",\"Antioxidants\"]},\"simpleSummary\":\"Fruits are a wonderful, natural choice that gives your body lots of good vitamins, fiber, and energy to keep you feeling great.\",\"isFallback\":false,\"fallbackReason\":null,\"rawResponse\":\"{\\n  \\\"healthImpact\\\": \\\"positive\\\",\\n  \\\"score\\\": 95,\\n  \\\"analysis\\\": \\\"Hey there! Fruits are like nature's sweet treats, coming in all sorts of yummy colors and flavors. They're packed with good stuff that helps your body stay strong and healthy, giving you a natural energy boost and keeping things running smoothly inside.\\\",\\n  \\\"recommendations\\\": [\\n    \\\"Eat a colorful variety of fruits every day\\\",\\n    \\\"Great choice for a healthy snack anytime\\\",\\n    \\\"Add sliced fruit to your breakfast cereal or yogurt\\\"\\n  ],\\n  \\\"warnings\\\": [],\\n  \\\"benefits\\\": [\\n    \\\"Good for your heart\\\",\\n    \\\"Helps with energy\\\",\\n    \\\"Boosts your immune system\\\",\\n    \\\"Helps with digestion (thanks to fiber)\\\",\\n    \\\"Full of vitamins and minerals\\\"\\n  ],\\n  \\\"nutritionalFacts\\\": {\\n    \\\"calories\\\": \\\"Usually around 60-100 energy per serving, depending on the type of fruit.\\\",\\n    \\\"macros\\\": \\\"Mostly natural sugar (carbs) and lots of fiber, with very little fat or protein.\\\",\\n    \\\"keyNutrients\\\": [\\n      \\\"Vitamin C\\\",\\n      \\\"Fiber\\\",\\n      \\\"Potassium\\\",\\n      \\\"Antioxidants\\\"\\n    ]\\n  },\\n  \\\"simpleSummary\\\": \\\"Fruits are a wonderful, natural choice that gives your body lots of good vitamins, fiber, and energy to keep you feeling great.\\\"\\n}\"},\"personalization\":{\"hasHealthProfile\":false,\"message\":\"No health profile found. Analysis is general, not personalized.\",\"suggestion\":\"Create a health profile in your account settings for personalized food recommendations.\"},\"timestamp\":\"2025-10-06T16:22:15.852Z\",\"isPersonalized\":false,\"isFallback\":false}}","origin":"http://localhost:8000","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36","ip":"::1"}
[2025-10-06T16:59:03.659Z] [WARN] Database disconnected
[2025-10-06T17:30:41.695Z] [INFO] Database reconnected
[2025-10-06T17:47:42.693Z] [INFO] Database reconnected
[2025-10-06T18:29:05.420Z] [WARN] Database disconnected
[2025-10-06T18:44:50.468Z] [INFO] Database reconnected
[2025-10-06T19:00:25.424Z] [WARN] Database disconnected
[2025-10-06T19:15:42.567Z] [INFO] Database reconnected
[2025-10-06T19:30:05.441Z] [WARN] Database disconnected
[2025-10-06T19:46:54.602Z] [INFO] Database reconnected
[2025-10-06T20:03:55.609Z] [WARN] Database disconnected
[2025-10-06T20:19:50.520Z] [INFO] Database reconnected
[2025-10-06T20:31:06.134Z] [WARN] Database disconnected
[2025-10-06T20:47:25.472Z] [INFO] Database reconnected
[2025-10-06T21:04:13.534Z] [WARN] Database disconnected
[2025-10-06T21:21:27.457Z] [INFO] Database reconnected
[2025-10-06T21:32:05.872Z] [WARN] Database disconnected
[2025-10-06T21:48:18.606Z] [INFO] Database reconnected
[2025-10-06T22:06:14.450Z] [WARN] Database disconnected
[2025-10-06T22:22:01.607Z] [INFO] Database reconnected
[2025-10-06T22:33:05.292Z] [WARN] Database disconnected
[2025-10-06T22:33:15.001Z] [INFO] Database reconnected
[2025-10-06T22:49:38.675Z] [INFO] Database reconnected
[2025-10-06T22:49:38.754Z] [INFO] Database reconnected
[2025-10-06T23:34:05.460Z] [WARN] Database disconnected
[2025-10-06T23:51:22.531Z] [INFO] Database reconnected
[2025-10-07T00:06:55.469Z] [WARN] Database disconnected
[2025-10-07T00:22:53.498Z] [INFO] Database reconnected
[2025-10-07T00:35:05.632Z] [WARN] Database disconnected
[2025-10-07T00:35:14.781Z] [INFO] Database reconnected
[2025-10-07T00:39:09.972Z] [WARN] Database disconnected
[2025-10-07T00:39:10.027Z] [INFO] Database reconnected
[2025-10-07T00:54:22.645Z] [INFO] Database reconnected
[2025-10-07T01:27:39.630Z] [INFO] Database reconnected
[2025-10-07T04:30:06.093Z] [WARN] Database disconnected
[2025-10-07T04:30:06.102Z] [INFO] Database reconnected
[2025-11-16T13:07:16.850Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T13:07:17.103Z] [INFO] Connecting to database...
[2025-11-16T13:07:17.103Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T13:07:17.108Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T13:07:17.108Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T13:07:17.108Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T13:07:17.108Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:07:17.108Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T13:07:17.108Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":16,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:07:17.110Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T13:07:17.955Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"852ms"}
[2025-11-16T13:07:23.196Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:07:23.197Z] [DEBUG] Incoming request {"method":"GET","url":"/health","query":{},"params":{},"headers":{"authorization":"none","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-11-16T13:07:23.197Z] [INFO] Health check requested {"ip":"::1"}
[2025-11-16T13:07:23.198Z] [INFO] Request completed {"method":"GET","url":"/health","statusCode":200,"responseTime":"2ms","responseSize":1525,"responseBody":"{\"success\":true,\"message\":\"Server is running\",\"timestamp\":\"2025-11-16T13:07:23.197Z\",\"environment\":\"development\",\"version\":\"1.0.0\",\"uptime\":6.422189458,\"memory\":{\"rss\":97845248,\"heapTotal\":62832640,\"heapUsed\":28747176,\"external\":21914228,\"arrayBuffers\":18381952},\"endpoints\":{\"base\":\"http://localhost:3000\",\"auth\":{\"login\":\"/api/auth/login\",\"register\":\"/api/auth/register\",\"logout\":\"/api/auth/logout\",\"refresh\":\"/api/auth/refresh\",\"forgotPassword\":\"/api/auth/forgot-password\",\"resetPassword\":\"/api/auth/reset-password\",\"verifyEmail\":\"/api/auth/verify-email\"},\"profile\":{\"get\":\"/api/profile\",\"update\":\"/api/profile\",\"delete\":\"/api/profile\",\"upload\":\"/api/profile/upload\",\"preferences\":\"/api/profile/preferences\"},\"search\":{\"food\":\"/api/search/food\",\"nutrition\":\"/api/search/nutrition\",\"history\":\"/api/search/history\",\"analyze\":\"/api/search/analyze\"},\"health\":{\"check\":\"/health\",\"status\":\"/api/health/status\",\"metrics\":\"/api/health/metrics\"}},\"config\":{\"cors\":[\"http://localhost:3000\",\"http://localhost:3001\",\"http://localhost:8000\",\"http://localhost:8080\",\"http://localhost:5000\",\"http://localhost:4000\",\"http://127.0.0.1:3000\",\"http://127.0.0.1:3001\",\"http://127.0.0.1:8000\",\"http://127.0.0.1:8080\",\"http://127.0.0.1:5000\",\"http://127.0.0.1:4000\",\"file://\"],\"rateLimit\":{\"window\":\"900000\",\"max\":\"1000\"},\"database\":{\"connected\":true,\"uri\":\"configured\"}}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-11-16T13:17:50.729Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":false}
[2025-11-16T13:17:50.731Z] [WARN] CORS blocked {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:17:50.745Z] [ERROR] Not allowed by CORS {"stack":"Error: Not allowed by CORS\n    at origin (/Users/userongrid/Befree/befree-backend-code/server.js:154:23)\n    at /Users/userongrid/Befree/befree-backend-code/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/userongrid/Befree/befree-backend-code/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/userongrid/Befree/befree-backend-code/node_modules/cors/lib/index.js:204:7)\n    at Layer.handle [as handle_request] (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/router/index.js:328:13)\n    at /Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/router/index.js:286:9\n    at router.process_params (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/router/index.js:280:10)\n    at internalNext (/Users/userongrid/Befree/befree-backend-code/node_modules/helmet/index.cjs:537:6)","context":"express_error_handler","method":"OPTIONS","url":"/api/auth/register","headers":{"host":"localhost:3000","connection":"keep-alive","accept":"*/*","access-control-request-method":"POST","access-control-request-headers":"content-type","origin":"http://localhost:8001","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","sec-fetch-mode":"cors","sec-fetch-site":"same-site","sec-fetch-dest":"empty","referer":"http://localhost:8001/","accept-encoding":"gzip, deflate, br, zstd","accept-language":"en-GB,en-US;q=0.9,en;q=0.8"},"ip":"::1","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"}
[2025-11-16T13:20:44.236Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T13:20:44.483Z] [INFO] Connecting to database...
[2025-11-16T13:20:44.483Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T13:20:44.488Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T13:20:44.488Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T13:20:44.488Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T13:20:44.488Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:20:44.488Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T13:20:44.489Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":16,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:20:44.490Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T13:20:45.235Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"752ms"}
[2025-11-16T13:20:53.559Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T13:20:53.682Z] [INFO] Connecting to database...
[2025-11-16T13:20:53.682Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T13:20:53.687Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T13:20:53.687Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T13:20:53.687Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T13:20:53.687Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:20:53.687Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T13:20:53.687Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:20:53.688Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T13:20:54.248Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"566ms"}
[2025-11-16T13:21:02.543Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T13:21:02.655Z] [INFO] Connecting to database...
[2025-11-16T13:21:02.656Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T13:21:02.660Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T13:21:02.660Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T13:21:02.661Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T13:21:02.661Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:21:02.661Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T13:21:02.661Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:21:02.662Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T13:21:03.232Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"576ms"}
[2025-11-16T13:22:43.930Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:22:43.930Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:22:43.934Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:22:43.934Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:22:43.951Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8001","referer":"http://localhost:8001/","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","body":{"username":"Vipan_kumar","email":"vips.thapar@gmail.com","password":"India@123"}}
[2025-11-16T13:22:43.967Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"$or":[{"email":"vipsthapar@gmail.com"},{"username":"Vipan_kumar"}]},"options":{}}
[2025-11-16T13:22:44.014Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"47ms"}
[2025-11-16T13:22:44.015Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":400,"responseTime":"64ms","responseSize":85,"responseBody":"{\"success\":false,\"message\":\"User already exists with this email or username\"}","origin":"http://localhost:8001","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","ip":"::1"}
[2025-11-16T13:23:56.118Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T13:23:56.362Z] [INFO] Connecting to database...
[2025-11-16T13:23:56.362Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T13:23:56.368Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T13:23:56.368Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T13:23:56.368Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T13:23:56.368Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:23:56.368Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T13:23:56.368Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:23:56.370Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T13:23:57.261Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"898ms"}
[2025-11-16T13:24:03.646Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T13:24:03.751Z] [INFO] Connecting to database...
[2025-11-16T13:24:03.751Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T13:24:03.757Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T13:24:03.757Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T13:24:03.757Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T13:24:03.757Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:24:03.757Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T13:24:03.757Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:24:03.759Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T13:24:04.201Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"450ms"}
[2025-11-16T13:24:15.631Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T13:24:15.839Z] [INFO] Connecting to database...
[2025-11-16T13:24:15.839Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T13:24:15.844Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T13:24:15.845Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T13:24:15.845Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T13:24:15.845Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:24:15.845Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T13:24:15.845Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:24:15.846Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T13:24:16.330Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"491ms"}
[2025-11-16T13:24:44.982Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:24:44.982Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:24:44.985Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:24:44.986Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:24:44.995Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8001","referer":"http://localhost:8001/","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","body":{"username":"Vipan_kumar","email":"vips.thapar@gmail.com","password":"India@123"}}
[2025-11-16T13:24:45.003Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipsthapar@gmail.com"},"options":{}}
[2025-11-16T13:24:45.050Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"47ms"}
[2025-11-16T13:24:45.051Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":400,"responseTime":"56ms","responseSize":73,"responseBody":"{\"success\":false,\"message\":\"User already exists with this email\"}","origin":"http://localhost:8001","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","ip":"::1"}
[2025-11-16T13:25:22.178Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T13:25:22.412Z] [INFO] Connecting to database...
[2025-11-16T13:25:22.412Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T13:25:22.417Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T13:25:22.418Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T13:25:22.418Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T13:25:22.418Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:25:22.418Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T13:25:22.418Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T13:25:22.419Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T13:25:23.245Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"833ms"}
[2025-11-16T13:25:28.912Z] [DEBUG] CORS request {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:25:28.912Z] [DEBUG] Incoming request {"method":"GET","url":"/health","query":{},"params":{},"headers":{"authorization":"none","user-agent":"curl/8.7.1","accept":"*/*"},"ip":"::1","userAgent":"curl/8.7.1"}
[2025-11-16T13:25:28.912Z] [INFO] Health check requested {"ip":"::1"}
[2025-11-16T13:25:28.913Z] [INFO] Request completed {"method":"GET","url":"/health","statusCode":200,"responseTime":"1ms","responseSize":1578,"responseBody":"{\"success\":true,\"message\":\"Server is running\",\"timestamp\":\"2025-11-16T13:25:28.912Z\",\"environment\":\"development\",\"version\":\"1.0.0\",\"uptime\":6.805934042,\"memory\":{\"rss\":109330432,\"heapTotal\":60211200,\"heapUsed\":32981408,\"external\":21898810,\"arrayBuffers\":18370788},\"endpoints\":{\"base\":\"http://localhost:3000\",\"auth\":{\"login\":\"/api/auth/login\",\"register\":\"/api/auth/register\",\"logout\":\"/api/auth/logout\",\"refresh\":\"/api/auth/refresh\",\"forgotPassword\":\"/api/auth/forgot-password\",\"resetPassword\":\"/api/auth/reset-password\",\"verifyEmail\":\"/api/auth/verify-email\"},\"profile\":{\"get\":\"/api/profile\",\"update\":\"/api/profile\",\"delete\":\"/api/profile\",\"upload\":\"/api/profile/upload\",\"preferences\":\"/api/profile/preferences\"},\"search\":{\"food\":\"/api/search/food\",\"nutrition\":\"/api/search/nutrition\",\"history\":\"/api/search/history\",\"analyze\":\"/api/search/analyze\"},\"health\":{\"check\":\"/health\",\"status\":\"/api/health/status\",\"metrics\":\"/api/health/metrics\"}},\"config\":{\"cors\":[\"http://localhost:3000\",\"http://localhost:3001\",\"http://localhost:8000\",\"http://localhost:8001\",\"http://localhost:8080\",\"http://localhost:5000\",\"http://localhost:4000\",\"http://127.0.0.1:3000\",\"http://127.0.0.1:3001\",\"http://127.0.0.1:8000\",\"http://127.0.0.1:8001\",\"http://127.0.0.1:8080\",\"http://127.0.0.1:5000\",\"http://127.0.0.1:4000\",\"file://\"],\"rateLimit\":{\"window\":\"900000\",\"max\":\"1000\"},\"database\":{\"connected\":true,\"uri\":\"configured\"}}}","userAgent":"curl/8.7.1","ip":"::1"}
[2025-11-16T13:25:57.258Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:25:57.259Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:25:57.261Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:25:57.262Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:25:57.270Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8001","referer":"http://localhost:8001/","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","body":{"username":"Vipan_kumar","email":"vips.thapar@gmail.com","password":"India@123"}}
[2025-11-16T13:25:57.275Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipsthapar@gmail.com"},"options":{}}
[2025-11-16T13:25:57.317Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"42ms"}
[2025-11-16T13:25:57.317Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":400,"responseTime":"47ms","responseSize":73,"responseBody":"{\"success\":false,\"message\":\"User already exists with this email\"}","origin":"http://localhost:8001","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","ip":"::1"}
[2025-11-16T13:46:09.020Z] [INFO] Database reconnected
[2025-11-16T13:46:09.021Z] [INFO] Database reconnected
[2025-11-16T13:46:38.390Z] [WARN] Database disconnected
[2025-11-16T13:46:38.517Z] [INFO] Database reconnected
[2025-11-16T13:49:18.963Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:49:18.965Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:49:18.969Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:49:18.969Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:49:18.970Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8001","referer":"http://localhost:8001/","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","body":{"username":"Vipan_kumar","email":"vips.thapar@gmail.com","password":"India@123"}}
[2025-11-16T13:49:18.974Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipsthapar@gmail.com"},"options":{}}
[2025-11-16T13:49:19.422Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"448ms"}
[2025-11-16T13:49:19.423Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":400,"responseTime":"453ms","responseSize":73,"responseBody":"{\"success\":false,\"message\":\"User already exists with this email\"}","origin":"http://localhost:8001","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","ip":"::1"}
[2025-11-16T13:49:29.585Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:49:29.587Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:49:29.591Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:49:29.592Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:49:29.592Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8001","referer":"http://localhost:8001/","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","body":{"username":"Vipan_kumar","email":"vips.thapar@gmail.com","password":"India@123"}}
[2025-11-16T13:49:29.595Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipsthapar@gmail.com"},"options":{}}
[2025-11-16T13:49:29.628Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"33ms"}
[2025-11-16T13:49:29.630Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":400,"responseTime":"37ms","responseSize":73,"responseBody":"{\"success\":false,\"message\":\"User already exists with this email\"}","origin":"http://localhost:8001","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","ip":"::1"}
[2025-11-16T13:51:22.073Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:51:22.075Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:51:22.080Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:51:22.081Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:51:22.084Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8001","referer":"http://localhost:8001/","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","body":{"username":"Vipan_kumar","email":"vips.thapar@gmail.com","password":"India@123"}}
[2025-11-16T13:51:22.088Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipsthapar@gmail.com"},"options":{}}
[2025-11-16T13:51:22.120Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"32ms"}
[2025-11-16T13:51:22.121Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":400,"responseTime":"37ms","responseSize":73,"responseBody":"{\"success\":false,\"message\":\"User already exists with this email\"}","origin":"http://localhost:8001","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","ip":"::1"}
[2025-11-16T13:52:03.088Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:52:03.089Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:52:03.092Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T13:52:03.092Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T13:52:03.093Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8001","referer":"http://localhost:8001/","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","body":{"username":"Vipan_kumar","email":"vips.thapar@gmail.com","password":"India@123"}}
[2025-11-16T13:52:03.095Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipsthapar@gmail.com"},"options":{}}
[2025-11-16T13:52:03.127Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"32ms"}
[2025-11-16T13:52:03.410Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":201,"responseTime":"317ms","responseSize":362,"responseBody":"{\"success\":true,\"message\":\"User registered successfully\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MTlkNzAzMmRhNjA3NDhiMGJlOTUzMiIsImlhdCI6MTc2MzMwMTEyMywiZXhwIjoxNzYzOTA1OTIzfQ.nmmDMtw2dePwakgGk2p7z0jLpu47meCLeOL4xHik_-o\",\"user\":{\"id\":\"6919d7032da60748b0be9532\",\"username\":\"Vipan_kumar\",\"email\":\"vipsthapar@gmail.com\"}}","origin":"http://localhost:8001","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","ip":"::1"}
[2025-11-16T14:00:48.184Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T14:00:48.185Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T14:00:48.188Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T14:00:48.189Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T14:00:48.191Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/login","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8001","referer":"http://localhost:8001/","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","body":{"email":"vips.thapar@gmail.com","password":"India@123","rememberMe":true}}
[2025-11-16T14:00:48.196Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipsthapar@gmail.com"},"options":{}}
[2025-11-16T14:00:48.231Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"35ms"}
[2025-11-16T14:00:48.512Z] [INFO] Request completed {"method":"POST","url":"/login","statusCode":200,"responseTime":"321ms","responseSize":393,"responseBody":"{\"success\":true,\"message\":\"Login successful\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MTlkNzAzMmRhNjA3NDhiMGJlOTUzMiIsImlhdCI6MTc2MzMwMTY0OCwiZXhwIjoxNzYzOTA2NDQ4fQ.8aLrwfpom25xblpL72XBmnN2LLel1XFY-NJYF87tSKc\",\"user\":{\"id\":\"6919d7032da60748b0be9532\",\"username\":\"Vipan_kumar\",\"email\":\"vipsthapar@gmail.com\",\"lastLogin\":\"2025-11-16T14:00:48.463Z\"}}","origin":"http://localhost:8001","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","ip":"::1"}
[2025-11-16T14:39:16.623Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T14:39:16.630Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T14:39:16.636Z] [DEBUG] CORS request {"origin":"http://localhost:8001","allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"isAllowed":true}
[2025-11-16T14:39:16.637Z] [INFO] CORS allowed {"origin":"http://localhost:8001"}
[2025-11-16T14:39:16.648Z] [DEBUG] Incoming request {"method":"POST","url":"/api/auth/register","query":{},"params":{},"headers":{"content-type":"application/json","authorization":"none","origin":"http://localhost:8001","referer":"http://localhost:8001/","user-agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","accept":"*/*"},"ip":"::1","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","body":{"username":"Vipan_kumar","email":"vips.thapar@gmail.com","password":"India@123"}}
[2025-11-16T14:39:16.653Z] [DEBUG] Database query started {"collection":"users","operation":"findOne","filter":{"email":"vipsthapar@gmail.com"},"options":{}}
[2025-11-16T14:39:16.687Z] [DEBUG] DB findOne on users {"resultCount":1,"success":true,"duration":"34ms"}
[2025-11-16T14:39:16.689Z] [INFO] Request completed {"method":"POST","url":"/register","statusCode":400,"responseTime":"42ms","responseSize":73,"responseBody":"{\"success\":false,\"message\":\"User already exists with this email\"}","origin":"http://localhost:8001","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1","ip":"::1"}
[2025-11-16T14:44:55.806Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:44:55.806Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:44:56.059Z] [INFO] Connecting to database...
[2025-11-16T14:44:56.059Z] [INFO] Connecting to database...
[2025-11-16T14:44:56.059Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:44:56.059Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:44:56.065Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:44:56.065Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:44:56.065Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:44:56.065Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:44:56.065Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:44:56.065Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:44:56.065Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:44:56.065Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:44:56.065Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:44:56.065Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:44:56.065Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:44:56.066Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:44:56.067Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:44:56.068Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:362:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:44:56.997Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"937ms"}
[2025-11-16T14:45:03.998Z] [INFO] Connecting to database... {"uri":"configured"}
[2025-11-16T14:45:04.572Z] [INFO] Database connected successfully
[2025-11-16T14:45:04.620Z] [INFO] Current indexes: {"indexes":[{"v":2,"key":{"_id":1},"name":"_id_","unique":true,"clustered":true},{"v":2,"key":{"username":1},"name":"username_1","background":true,"unique":true},{"v":2,"key":{"email":1},"name":"email_1","background":true,"unique":true}]}
[2025-11-16T14:45:04.621Z] [INFO] Found username_1 index, dropping it...
[2025-11-16T14:45:04.667Z] [INFO] Successfully dropped username_1 index
[2025-11-16T14:45:04.712Z] [INFO] Updated indexes: {"indexes":[{"v":2,"key":{"_id":1},"name":"_id_","unique":true,"clustered":true},{"v":2,"key":{"email":1},"name":"email_1","background":true,"unique":true}]}
[2025-11-16T14:45:04.715Z] [INFO] Database connection closed
[2025-11-16T14:45:10.154Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:45:10.160Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:45:10.302Z] [INFO] Connecting to database...
[2025-11-16T14:45:10.302Z] [INFO] Connecting to database...
[2025-11-16T14:45:10.303Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:45:10.303Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:45:10.308Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:45:10.308Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:45:10.308Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:45:10.308Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:45:10.308Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:45:10.308Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:45:10.308Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:45:10.308Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:45:10.308Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:45:10.308Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:45:10.308Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:45:10.308Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:45:10.309Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:45:10.309Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:362:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:45:10.791Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"488ms"}
[2025-11-16T14:46:56.193Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:46:56.194Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:46:56.477Z] [INFO] Connecting to database...
[2025-11-16T14:46:56.477Z] [INFO] Connecting to database...
[2025-11-16T14:46:56.477Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:46:56.477Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:46:56.482Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:46:56.482Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:46:56.482Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:46:56.482Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:46:56.482Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:46:56.483Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:46:56.483Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:46:56.483Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:46:56.483Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:46:56.483Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:46:56.483Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:46:56.483Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:46:56.485Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:46:56.485Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:362:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:46:57.375Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"898ms"}
[2025-11-16T14:47:00.267Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:00.319Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:00.401Z] [INFO] Connecting to database...
[2025-11-16T14:47:00.401Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:00.407Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:00.407Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:00.407Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:00.407Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:00.407Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:00.407Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:00.409Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:47:00.452Z] [INFO] Connecting to database...
[2025-11-16T14:47:00.452Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:00.457Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:00.457Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:00.457Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:00.457Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:00.457Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:00.457Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:00.459Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:362:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:47:00.880Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"479ms"}
[2025-11-16T14:47:08.865Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:08.903Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:08.985Z] [INFO] Connecting to database...
[2025-11-16T14:47:08.985Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:08.998Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:08.998Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:08.998Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:08.998Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:08.998Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:08.998Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:09.000Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:47:09.027Z] [INFO] Connecting to database...
[2025-11-16T14:47:09.027Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:09.032Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:09.032Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:09.032Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:09.032Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:09.032Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:09.032Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:09.033Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:362:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:47:09.525Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"540ms"}
[2025-11-16T14:47:17.437Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:17.480Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:17.688Z] [INFO] Connecting to database...
[2025-11-16T14:47:17.689Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:17.698Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:17.699Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:17.699Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:17.699Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:17.699Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:17.699Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:17.702Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:47:17.761Z] [INFO] Connecting to database...
[2025-11-16T14:47:17.761Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:17.769Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:17.769Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:17.769Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:17.769Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:17.769Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:17.769Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:17.772Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:365:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:47:18.338Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"649ms"}
[2025-11-16T14:47:29.531Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:29.531Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:29.776Z] [INFO] Connecting to database...
[2025-11-16T14:47:29.776Z] [INFO] Connecting to database...
[2025-11-16T14:47:29.777Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:29.777Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:29.782Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:29.782Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:29.782Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:29.782Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:29.782Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:29.782Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:29.783Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:29.783Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:29.783Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:29.783Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:29.783Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:29.783Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:29.784Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:47:29.784Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:365:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:47:30.239Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"462ms"}
[2025-11-16T14:47:33.380Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:33.426Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:33.498Z] [INFO] Connecting to database...
[2025-11-16T14:47:33.498Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:33.503Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:33.503Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:33.503Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:33.503Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:33.503Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:33.503Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:33.505Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:47:33.542Z] [INFO] Connecting to database...
[2025-11-16T14:47:33.542Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:33.548Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:33.548Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:33.548Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:33.548Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:33.548Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:33.548Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:33.549Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:365:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:47:33.952Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"454ms"}
[2025-11-16T14:47:38.898Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:38.948Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:39.044Z] [INFO] Connecting to database...
[2025-11-16T14:47:39.044Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:39.051Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:39.051Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:39.051Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:39.051Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:39.051Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:39.051Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:39.053Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:47:39.099Z] [INFO] Connecting to database...
[2025-11-16T14:47:39.099Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:39.105Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:39.106Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:39.106Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:39.106Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:39.106Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:39.106Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:39.107Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:363:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:47:39.506Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"461ms"}
[2025-11-16T14:47:45.065Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:45.105Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:45.175Z] [INFO] Connecting to database...
[2025-11-16T14:47:45.176Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:45.181Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:45.181Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:45.181Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:45.181Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:45.181Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:45.181Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:45.182Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:47:45.208Z] [INFO] Connecting to database...
[2025-11-16T14:47:45.208Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:45.213Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:45.213Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:45.213Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:45.213Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:45.213Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:45.214Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:45.215Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:369:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:47:45.651Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"475ms"}
[2025-11-16T14:47:48.672Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:48.716Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:47:48.779Z] [INFO] Connecting to database...
[2025-11-16T14:47:48.780Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:48.785Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:48.785Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:48.785Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:48.785Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:48.785Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:48.785Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:48.786Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:47:48.819Z] [INFO] Connecting to database...
[2025-11-16T14:47:48.819Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:47:48.824Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:47:48.824Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:47:48.824Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:47:48.824Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:48.824Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:47:48.824Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:47:48.825Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:369:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:47:49.300Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"520ms"}
[2025-11-16T14:48:00.365Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:48:00.365Z] [INFO] Configuration loaded successfully {"environment":"development"}
[2025-11-16T14:48:00.593Z] [INFO] Connecting to database...
[2025-11-16T14:48:00.593Z] [INFO] Connecting to database...
[2025-11-16T14:48:00.593Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:48:00.593Z] [INFO] Attempting database connection {"uri":"configured","dbName":"befree-sep","environment":"development"}
[2025-11-16T14:48:00.598Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:48:00.598Z] [INFO] Loaded CORS origins from config {"origins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"]}
[2025-11-16T14:48:00.598Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:48:00.598Z] [WARN] Emergency: Added https://beta.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit"]}
[2025-11-16T14:48:00.598Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:48:00.598Z] [WARN] Emergency: Added https://api.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit"]}
[2025-11-16T14:48:00.598Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:48:00.598Z] [WARN] Emergency: Added https://admin.befree.fit to CORS origins {"finalOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:48:00.599Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:48:00.599Z] [INFO] CORS configuration {"allowedOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"environment":"development","processEnvNodeEnv":"development","configCorsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://"],"configKeys":["NODE_ENV","PORT","MONGODB_URI","DB_NAME","API_BASE_URL","FRONTEND_URL","CLAUDE_API_BASE_URL","CLAUDE_API_KEY","CLAUDE_MODEL","CORS_ORIGINS","RATE_LIMIT_WINDOW_MS","RATE_LIMIT_MAX_REQUESTS","AUTH_RATE_LIMIT_MAX","SEARCH_RATE_LIMIT_MAX","LOG_LEVEL","LOG_FILE","JWT_SECRET","JWT_EXPIRE","BCRYPT_ROUNDS","MAX_FILE_SIZE","UPLOAD_PATH","CACHE_TTL"]}
[2025-11-16T14:48:00.599Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:48:00.599Z] [WARN] Environment Debug {"process.env.NODE_ENV":"development","config.NODE_ENV":"development","corsOrigins.length":18,"corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"]}
[2025-11-16T14:48:00.600Z] [INFO] Server started successfully {"port":"3000","environment":"development","apiBaseUrl":"http://localhost:3000","frontendUrl":"http://localhost:3000","corsOrigins":["http://localhost:3000","http://localhost:3001","http://localhost:8000","http://localhost:8001","http://localhost:8080","http://localhost:5000","http://localhost:4000","http://127.0.0.1:3000","http://127.0.0.1:3001","http://127.0.0.1:8000","http://127.0.0.1:8001","http://127.0.0.1:8080","http://127.0.0.1:5000","http://127.0.0.1:4000","file://","https://beta.befree.fit","https://api.befree.fit","https://admin.befree.fit"],"uploadPath":"uploads/dev","logLevel":"debug"}
[2025-11-16T14:48:00.600Z] [ERROR] listen EADDRINUSE: address already in use :::3000 {"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1939:16)\n    at listenInCluster (node:net:1996:12)\n    at Server.listen (node:net:2101:7)\n    at app.listen (/Users/userongrid/Befree/befree-backend-code/node_modules/express/lib/application.js:635:24)\n    at Object.<anonymous> (/Users/userongrid/Befree/befree-backend-code/server.js:369:20)\n    at Module._compile (node:internal/modules/cjs/loader:1734:14)\n    at Object..js (node:internal/modules/cjs/loader:1899:10)\n    at Module.load (node:internal/modules/cjs/loader:1469:32)\n    at Module._load (node:internal/modules/cjs/loader:1286:12)\n    at TracingChannel.traceSync (node:diagnostics_channel:322:14)","context":"uncaught_exception"}
[2025-11-16T14:48:01.052Z] [INFO] Database connected successfully {"host":"ac-t3ipz3y-shard-00-00.k8sgfs4.mongodb.net","database":"befree-sep","environment":"development","connectionTime":"459ms"}
